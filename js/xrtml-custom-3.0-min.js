try{delete window.xRTML}catch(e){window.xRTML=undefined}(function(b,a){(function(c,g){var d={bind:function(h,i){if(h.bind){h.bind(i)}else{for(var j in i){if(h.addEventListener){h.addEventListener(j,i[j],false)}else{h.attachEvent?h.attachEvent("on"+j,i[j]):h[j]=i[j]}}}},unbind:function(h,i){if(h.unbind){h.unbind(i)}else{for(var j in i){if(h.removeEventListener){h.removeEventListener(j,i[j],false)}else{if(h.detachEvent){h.detachEvent("on"+j,i[j])}else{if(h[j]){delete h[j]}}}}}}},f={bind:function(h){for(var i in h){if(typeof h[i]==="function"){if(!this.listeners[i]){this.listeners[i]=[]}this.listeners[i].push(h[i])}}},unbind:function(h){for(var m in h){if(this.listeners[m] instanceof Array){var l=this.listeners[m];for(var j=0,k=l.length;j<k;j++){if(l[j]===h[m]){l.splice(j,1);break}}}}},fire:function(j){var h;for(var o in j){h={type:o,target:this};for(var l in j[o]){var n=j[o][l];h[l]=n}if(this.listeners[h.type] instanceof Array){var m=new Array();for(var k=0;k<this.listeners[h.type].length;k++){m.push(this.listeners[h.type][k])}for(var k=0;k<m.length;k++){m[k].call(this,h)}}}}};c.bind=d.bind;c.unbind=d.unbind;c.extend=function(i){if(!i.listeners){i.listeners={}}for(var h in f){i[h]=f[h]}}})(b.Event=b.Event||{})})(window.xRTML=window.xRTML||{});(function(a){(function(c,b){c.Event.extend(c);c.version="3.0.0";c.lastestBuild="14-11-2012 11:52:36";c.domLoaded=function(){return(document.readyState=="loaded"||document.readyState=="complete")};c.isReady=false;c.isLoaded=false;c.ready=function(d){!c.isReady?c.bind({ready:d}):d()};c.load=function(d){!c.isLoaded?c.bind({load:d}):d()}})(a.xRTML=a.xRTML||{})})(window);(function(b,a){(function(at,aq){var ap,p,z,an,ak,B=b.document,A=B.documentElement,E=("sizcache"+Math.random()).replace(".",""),C=0,am=[].slice,U=[].push,ao="undefined",J=false,n=true,r="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",ar="[\\x20\\t\\n\\r\\f]",R="([*^$|!~]?={1})",K="(?:-?[#_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)",m="\\["+ar+"*("+r+"+)"+ar+"*(?:"+R+ar+"*(?:(['\"])(.*?)\\3|("+K+"+)|)|)"+ar+"*\\]",T=":("+r+"+)(?:\\(([\"']?)([^()]*|.*)\\2\\))?",S=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)",t=ar+"*([\\x20\\t\\n\\r\\f>+~])"+ar+"*",Y=new RegExp("^"+ar+"*,"+ar+"*"),X=new RegExp("^"+t),ai=new RegExp("("+m.replace("3","4")+"|"+T.replace("2","8")+"|\\\\[>+~]|[^\\x20\\t\\n\\r\\f>+~]|\\\\.)+|"+t,"g"),ah=new RegExp("^"+ar),af=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ag=/^[\x20\t\n\r\f]*[+~][\x20\t\n\r\f]*$/,Z=/:not\($/,ae=/(-?)(\d*)(?:n([+\-]?\d*))?/,ad=/\D/,ab=/h\d/i,ac=/input|select|textarea|button/i,V=/^\+|[\x20\t\n\r\f]*/g,W=/\\(?!\\)/g,aa=/([^,\\\[\]]+|\[[^\[]*\]|\([^\(]*\)|\\.)+/g,P={ID:new RegExp("^#("+r+"+)"),CLASS:new RegExp("^\\.("+r+"+)"),NAME:new RegExp("^\\[name=['\"]?("+r+"+)['\"]?\\]"),TAG:new RegExp("^("+r.replace("[-","[-\\*")+"+)"),ATTR:new RegExp("^"+m),PSEUDO:new RegExp("^"+T),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+ar+"*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n"+ar+"*(?:[+\\-]"+ar+"*\\d+)?))"+ar+"*\\))?","i"),POS:new RegExp(S,"ig"),globalPOS:new RegExp(S,"i")},s={},o=[],v={},q=[],M=function(au){au.sizzleFilter=true;return au},y=function(au){return function(av){return av.nodeName.toLowerCase()==="input"&&av.type===au}},x=function(au){return function(av){var aw=av.nodeName.toLowerCase();return(aw==="input"||aw==="button")&&av.type===au}},f=function(aw){var ax=false,au=B.createElement("div");try{ax=aw(au)}catch(av){}au=null;return ax},g=f(function(au){au.innerHTML="<select></select>";var av=typeof au.lastChild.getAttribute("multiple");return av!=="boolean"&&av!=="string"}),h,l=f(function(au){au.id=E+0;au.innerHTML="<a name='"+E+"'/><div name='"+E+"'/>";A.insertBefore(au,A.firstChild);var av=B.getElementsByName&&B.getElementsByName(E).length===2+B.getElementsByName(E+0).length;h=!B.getElementById(E);A.removeChild(au);return av}),j=f(function(au){au.appendChild(B.createComment(""));return au.getElementsByTagName("*").length===0}),i=f(function(au){au.innerHTML="<a href='#'></a>";return au.firstChild&&typeof au.firstChild.getAttribute!==ao&&au.firstChild.getAttribute("href")==="#"}),k=f(function(au){au.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!au.getElementsByClassName||au.getElementsByClassName("e").length===0){return false}au.lastChild.className="e";return au.getElementsByClassName("e").length!==1});var al=function(aB,au,az,aA){az=az||[];au=au||B;var ax,av,aC,aw,ay=au.nodeType;if(ay!==1&&ay!==9){return[]}if(!aB||typeof aB!=="string"){return az}aC=L(au);if(!aC&&!aA){if((ax=af.exec(aB))){if((aw=ax[1])){if(ay===9){av=au.getElementById(aw);if(av&&av.parentNode){if(av.id===aw){az.push(av);return az}}else{return az}}else{if(au.ownerDocument&&(av=au.ownerDocument.getElementById(aw))&&w(au,av)&&av.id===aw){az.push(av);return az}}}else{if(ax[2]){U.apply(az,am.call(au.getElementsByTagName(aB),0));return az}else{if((aw=ax[3])&&k&&au.getElementsByClassName){U.apply(az,am.call(au.getElementsByClassName(aw),0));return az}}}}}return aj(aB,au,az,aA,aC)};var F=al.selectors={cacheLength:50,match:P,order:["ID","TAG"],attrHandle:{},createPseudo:M,find:{ID:h?function(av,au,ax){if(typeof au.getElementById!==ao&&!ax){var aw=au.getElementById(av);return aw&&aw.parentNode?[aw]:[]}}:function(av,au,ax){if(typeof au.getElementById!==ao&&!ax){var aw=au.getElementById(av);return aw?aw.id===av||typeof aw.getAttributeNode!==ao&&aw.getAttributeNode("id").value===av?[aw]:aq:[]}},TAG:j?function(av,au){if(typeof au.getElementsByTagName!==ao){return au.getElementsByTagName(av)}}:function(ay,au){var ax=au.getElementsByTagName(ay);if(ay==="*"){var av,az=[],aw=0;for(;(av=ax[aw]);aw++){if(av.nodeType===1){az.push(av)}}ax=az}return ax}},relative:{">":{dir:"parentNode",firstMatch:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",firstMatch:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(au){au[1]=au[1].replace(W,"");au[3]=(au[4]||au[5]||"").replace(W,"");if(au[2]==="~="){au[3]=" "+au[3]+" "}return au.slice(0,4)},CHILD:function(au){au[1]=au[1].toLowerCase();if(au[1]==="nth"){if(!au[2]){al.error(au[0])}au[2]=au[2].replace(V,"");var av=ae.exec(au[2]==="even"&&"2n"||au[2]==="odd"&&"2n+1"||!ad.test(au[2])&&"0n+"+au[2]||au[2]);au[2]=+(av[1]+(av[2]||1));au[3]=+av[3]}else{if(au[2]){al.error(au[0])}}return au},PSEUDO:function(au){return P.CHILD.test(au[0])?null:au}},filter:{ID:h?function(au){au=au.replace(W,"");return function(av){return av.getAttribute("id")===au}}:function(au){au=au.replace(W,"");return function(av){var aw=typeof av.getAttributeNode!==ao&&av.getAttributeNode("id");return aw&&aw.value===au}},TAG:function(au){if(au==="*"){return function(){return true}}au=au.replace(W,"").toLowerCase();return function(av){return av.nodeName&&av.nodeName.toLowerCase()===au}},CLASS:function(au){var av=s[au];if(!av){av=s[au]=new RegExp("(^|"+ar+")"+au+"("+ar+"|$)");o.push(au);if(o.length>F.cacheLength){delete s[o.shift()]}}return function(aw){return av.test(aw.className||aw.getAttribute("class")||"")}},ATTR:function(av,aw,au){if(!aw){return function(ax){return al.attr(ax,av)!=null}}return function(ax){var ay=al.attr(ax,av),az=ay+"";if(ay==null){return aw==="!="}switch(aw){case"=":return az===au;case"!=":return az!==au;case"^=":return au&&az.indexOf(au)===0;case"*=":return au&&az.indexOf(au)>-1;case"$=":return au&&az.substr(az.length-au.length)===au;case"~=":return(" "+az+" ").indexOf(au)>-1;case"|=":return az===au||az.substr(0,au.length+1)===au+"-"}}},CHILD:function(ax,av,aw){if(ax==="nth"){var au=C++;return function(aA){var aC,az,ay=0,aB=aA;if(av===1&&aw===0){return true}aC=aA.parentNode;if(aC&&(aC[E]!==au||!aA.sizset)){for(aB=aC.firstChild;aB;aB=aB.nextSibling){if(aB.nodeType===1){aB.sizset=++ay;if(aB===aA){break}}}aC[E]=au}az=aA.sizset-aw;if(av===0){return az===0}else{return(az%av===0&&az/av>=0)}}}return function(ay){var az=ay;switch(ax){case"only":case"first":while((az=az.previousSibling)){if(az.nodeType===1){return false}}if(ax==="first"){return true}az=ay;case"last":while((az=az.nextSibling)){if(az.nodeType===1){return false}}return true}}},PSEUDO:function(ay,ax,au,av,az){var aw=F.pseudos[ay]||F.pseudos[ay.toLowerCase()];if(!aw){al.error("unsupported pseudo: "+ay)}if(!aw.sizzleFilter){return aw}return aw(au,av,az)}},pseudos:{not:M(function(aw,au,ax){var av=u(aw,au,ax);return function(ay){return !av(ay)}}),enabled:function(au){return au.disabled===false},disabled:function(au){return au.disabled===true},checked:function(au){var av=au.nodeName.toLowerCase();return(av==="input"&&!!au.checked)||(av==="option"&&!!au.selected)},selected:function(au){if(au.parentNode){au.parentNode.selectedIndex}return au.selected===true},parent:function(au){return !!au.firstChild},empty:function(au){return !au.firstChild},contains:M(function(au){return function(av){return(av.textContent||av.innerText||G(av)).indexOf(au)>-1}}),has:M(function(au){return function(av){return !!al(au,av).length}}),header:function(au){return ab.test(au.nodeName)},text:function(av){var au=av.getAttribute("type"),aw=av.type;return av.nodeName.toLowerCase()==="input"&&"text"===aw&&(au===null||au.toLowerCase()===aw)},radio:y("radio"),checkbox:y("checkbox"),file:y("file"),password:y("password"),image:y("image"),submit:x("submit"),reset:x("reset"),button:function(au){var av=au.nodeName.toLowerCase();return av==="input"&&"button"===au.type||av==="button"},input:function(au){return ac.test(au.nodeName)},focus:function(av){var au=av.ownerDocument;return av===au.activeElement&&(!au.hasFocus||au.hasFocus())&&!!(av.type||av.href)},active:function(au){return au===au.ownerDocument.activeElement}},setFilters:{first:function(av,au,aw){return aw?av.slice(1):[av[0]]},last:function(aw,au,ax){var av=aw.pop();return ax?aw:[av]},even:function(av,au,ay){var az=[],aw=ay?1:0,ax=av.length;for(;aw<ax;aw=aw+2){az.push(av[aw])}return az},odd:function(av,au,ay){var az=[],aw=ay?0:1,ax=av.length;for(;aw<ax;aw=aw+2){az.push(av[aw])}return az},lt:function(av,au,aw){return aw?av.slice(+au):av.slice(0,+au)},gt:function(av,au,aw){return aw?av.slice(0,+au+1):av.slice(+au+1)},eq:function(aw,au,ax){var av=aw.splice(+au,1);return ax?aw:av}}};F.setFilters.nth=F.setFilters.eq;F.filters=F.pseudos;if(!i){F.attrHandle={href:function(au){return au.getAttribute("href",2)},type:function(au){return au.getAttribute("type")}}}if(l){F.order.push("NAME");F.find.NAME=function(av,au){if(typeof au.getElementsByName!==ao){return au.getElementsByName(av)}}}if(k){F.order.splice(1,0,"CLASS");F.find.CLASS=function(au,av,aw){if(typeof av.getElementsByClassName!==ao&&!aw){return av.getElementsByClassName(au)}}}try{am.call(A.childNodes,0)[0].nodeType}catch(D){am=function(av){var au,aw=[];for(;(au=this[av]);av++){aw.push(au)}return aw}}var L=al.isXML=function(av){var au=av&&(av.ownerDocument||av).documentElement;return au?au.nodeName!=="HTML":false};var w=al.contains=A.compareDocumentPosition?function(au,av){return !!(au.compareDocumentPosition(av)&16)}:A.contains?function(au,aw){var av=au.nodeType===9?au.documentElement:au,ax=aw.parentNode;return au===ax||!!(ax&&ax.nodeType===1&&av.contains&&av.contains(ax))}:function(au,av){while((av=av.parentNode)){if(av===au){return true}}return false};var G=al.getText=function(au){var aw,ay="",av=0,ax=au.nodeType;if(ax){if(ax===1||ax===9||ax===11){if(typeof au.textContent==="string"){return au.textContent}else{for(au=au.firstChild;au;au=au.nextSibling){ay+=G(au)}}}else{if(ax===3||ax===4){return au.nodeValue}}}else{for(;(aw=au[av]);av++){ay+=G(aw)}}return ay};al.attr=function(av,aw){var ax=L(av);if(!ax){aw=aw.toLowerCase()}if(F.attrHandle[aw]){return F.attrHandle[aw](av)}if(g||ax){return av.getAttribute(aw)}var au=(av.attributes||{})[aw];return au?typeof av[aw]==="boolean"?av[aw]?aw:null:au.specified?au.value:null:null};al.error=function(au){throw new Error("Syntax error, unrecognized expression: "+au)};[0,0].sort(function(){return(n=0)});if(A.compareDocumentPosition){an=function(au,av){if(au===av){J=true;return 0}return(!au.compareDocumentPosition||!av.compareDocumentPosition?au.compareDocumentPosition:au.compareDocumentPosition(av)&4)?-1:1}}else{an=function(au,ay){if(au===ay){J=true;return 0}else{if(au.sourceIndex&&ay.sourceIndex){return au.sourceIndex-ay.sourceIndex}}var av,az,aw=[],aA=[],ax=au.parentNode,aB=ay.parentNode,aC=ax;if(ax===aB){return ak(au,ay)}else{if(!ax){return -1}else{if(!aB){return 1}}}while(aC){aw.unshift(aC);aC=aC.parentNode}aC=aB;while(aC){aA.unshift(aC);aC=aC.parentNode}av=aw.length;az=aA.length;for(var aD=0;aD<av&&aD<az;aD++){if(aw[aD]!==aA[aD]){return ak(aw[aD],aA[aD])}}return aD===av?ak(au,aA[aD],-1):ak(aw[aD],ay,1)};ak=function(au,av,ax){if(au===av){return ax}var aw=au.nextSibling;while(aw){if(aw===av){return -1}aw=aw.nextSibling}return 1}}al.uniqueSort=function(aw){var au,av=1;if(an){J=n;aw.sort(an);if(J){for(;(au=aw[av]);av++){if(au===aw[av-1]){aw.splice(av--,1)}}}}return aw};function Q(az,au,ax,ay){for(var av=0,aw=au.length;av<aw;av++){al(az,au[av],ax,ay)}}function I(aB,ay,au,av,aA,ax){var az=[],aw=F.setFilters[ay.toLowerCase()];if(!aw){al.error(ay)}if(aB){Q(aB,av,az,aA)}else{az=aA}return az.length?aw(az,au,ax):[]}function H(aK,av,aF,aJ){var aC,aD,au,aG,ax,aw,aE,aA,ay=aK.match(aa),az=0,aB=ay.length,aH=P.POS,aI=new RegExp("^"+P.POS.source+"(?!"+ar+")","i"),aL=function(){for(var aM=1,aN=arguments.length-2;aM<aN;aM++){if(arguments[aM]===aq){aC[aM]=aq}}};for(;az<aB;az++){aH.exec("");aK=ay[az].replace(ah,"");aG=[];au=0;ax=aJ||null;while((aC=aH.exec(aK))){aA=aC.index+aC[0].length;if(aA>au){aE=aK.slice(au,aC.index);if(aC.length>1){aC[0].replace(aI,aL)}au=aA;aw=[av];if((aD=Z.test(aE))){aE=aE.replace(Z,"").replace(X,"$&*")}if(X.test(aE)){aw=ax||[av];ax=aJ}ax=I(aE,aC[1],aC[2],aw,ax,aD)}if(aH.lastIndex===aC.index){aH.lastIndex++}}if(ax){aG=aG.concat(ax);if((aE=aK.slice(au))&&aE!==")"){Q(aE,aG,aF,aJ)}else{U.apply(aF,aG)}}else{al(aK,av,aF,aJ)}}return aB===1?aF:al.uniqueSort(aF)}(function(){var aw,av,ax,au=function(ay,az,aA){if((av=ay.exec(aw))&&(!az||!F.preFilter[az]||(av=F.preFilter[az](av,aA)))){aw=aw.slice(av[0].length)}return av};ap=function(aC,az,aE){aw=aC;ax=[];var aD,aB,ay=!aE&&az!==B,aA=[ax];if(ay){aw=" "+aw}while(aw){aB=false;if(au(Y)){aA.push(ax=[]);if(ay){aw=" "+aw}}if(au(X)){ax.push({part:av.pop(),captures:av});aB=true}for(aD in F.filter){if(au(P[aD],aD,aE)){av.shift();ax.push({part:aD,captures:av});aB=true}}if(!aB){al.error(aC)}}return aA}})();function c(az,au,av){var aw=au.dir,ay=au.firstMatch,ax=C++;if(!az){az=function(aA){return aA===av}}return ay?function(aB,aA){while((aB=aB[aw])){if(aB.nodeType===1){return az(aB,aA)?aB:false}}}:function(aE,aC){var aA,aD=ax+"."+z,aB=aD+"."+p;while((aE=aE[aw])){if(aE.nodeType===1){if((aA=aE[E])===aB){return false}else{if(typeof aA==="string"&&aA.indexOf(aD)===0){if(aE.sizset){return aE}}else{aE[E]=aB;if(az(aE,aC)){aE.sizset=true;return aE}aE.sizset=false}}}}}}function d(av,au){return av?function(ax,aw){var ay=au(ax,aw);return ay&&av(ay===true?ax:ay,aw)}:au}function O(ay,au,az){var ax,aw,av=0;for(;(ax=ay[av]);av++){if(F.relative[ax.part]){aw=c(aw,F.relative[ax.part],au)}else{ax.captures.push(au,az);aw=d(aw,F.filter[ax.part].apply(null,ax.captures))}}return aw}function N(au){return function(aw,av){var ay,ax=0;for(;(ay=au[ax]);ax++){if(ay(aw,av)){return true}}return false}}var u=al.compile=function(ay,av,aA){var az,aw,ax,au=v[ay];if(au&&au.context===av){au.dirruns++;return au}aw=ap(ay,av,aA);for(ax=0;(az=aw[ax]);ax++){aw[ax]=O(az,av,aA)}au=v[ay]=N(aw);au.context=av;au.runs=au.dirruns=0;q.push(ay);if(q.length>F.cacheLength){delete v[q.shift()]}return au};al.matches=function(av,au){return al(av,null,null,au)};al.matchesSelector=function(au,av){return al(av,null,null,[au]).length>0};var aj=function(aI,au,aG,aH,aM){var ax,aD,az,aB,aw,aJ,aF,aL,aC,ay,aE,aA=(aC=aI.match(aa))&&aC.length===1,aK=aI.match(ai),av=au.nodeType;if(P.POS.test(aI)){return H(aI,au,aG,aH)}if(!aH&&aA&&aK.length>1&&av===9&&!aM&&(aC=P.ID.exec(aK[0]))){au=F.find.ID(aC[1],au,aM)[0];aI=aI.slice(aK.shift().length)}if(au){if(aH){ax=am.call(aH,0)}else{if(aA){ay=(aK.length>=1&&ag.test(aK[0])&&au.parentNode)||au;aE=aK.pop().split(":not");aJ=aE[0];for(az=0,aB=F.order.length;az<aB;az++){aL=F.order[az];if((aC=P[aL].exec(aJ))){ax=F.find[aL]((aC[1]||"").replace(W,""),ay,aM);if(ax!=null){break}}}if(ax&&!aE[1]){aF=aI.length-aJ.length;aI=aI.slice(0,aF)+aI.slice(aF).replace(P[aL],"");if(!aI){U.apply(aG,am.call(ax,0));return aG}}}if(!ax){ax=F.find.TAG("*",au)}}if(aI&&(aD=u(aI,au,aM))){z=aD.dirruns;for(az=0;(aw=ax[az]);az++){p=aD.runs++;if(aD(aw,au)){aG.push(aw)}}}}return aG};if(B.querySelectorAll){(function(){var au,aw=aj,aB=/[^\\],/g,aC=/^[\x20\t\n\r\f]*[+~]/,ax=/'/g,ay=/\=[\x20\t\n\r\f]*([^'"\]]*)[\x20\t\n\r\f]*\]/g,aA=[],az=[":active"],av=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector;f(function(aD){aD.innerHTML="<select><option selected></option></select>";if(!aD.querySelectorAll("[selected]").length){aA.push("\\["+ar+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!aD.querySelectorAll(":checked").length){aA.push(":checked")}});f(function(aD){aD.innerHTML="<p test=''></p>";if(aD.querySelectorAll("[test^='']").length){aA.push("[*^$]="+ar+"*(?:\"\"|'')")}aD.innerHTML="<input type='hidden'>";if(!aD.querySelectorAll(":enabled").length){aA.push(":enabled",":disabled")}});aA=aA.length&&new RegExp(aA.join("|"));aj=function(aN,aD,aL,aM,aO){if(!aM&&!aO&&(!aA||!aA.test(aN))){if(aD.nodeType===9){try{U.apply(aL,am.call(aD.querySelectorAll(aN),0));return aL}catch(aJ){}}else{if(aD.nodeType===1&&aD.nodeName.toLowerCase()!=="object"){var aE,aH=aD,aG=aD.getAttribute("id"),aF=aG||E,aI=aD.parentNode,aK=aC.test(aN);if(aG){aF=aF.replace(ax,"\\$&")}else{aD.setAttribute("id",aF)}if(aK&&aI){aD=aI}try{if(aD){aF="[id='"+aF+"'] ";aE=aF+aN.replace(aB,"$&"+aF);U.apply(aL,am.call(aD.querySelectorAll(aE),0));return aL}}catch(aJ){}finally{if(!aG){aH.removeAttribute("id")}}}}}return aw(aN,aD,aL,aM,aO)};if(av){f(function(aD){au=av.call(aD,"div");try{av.call(aD,"[test!='']:sizzle");az.push(F.match.PSEUDO)}catch(aE){}});az=new RegExp(az.join("|"));al.matchesSelector=function(aE,aF){aF=aF.replace(ay,"='$1']");if(!L(aE)&&!az.test(aF)&&(!aA||!aA.test(aF))){try{var aG=av.call(aE,aF);if(aG||au||aE.document&&aE.document.nodeType!==11){return aG}}catch(aD){}}return al(aF,null,null,[aE]).length>0}}})()}at.Sizzle=al})(b.xRTML=b.xRTML||{})})(window);(function(xRTML,undefined){(function(JSON,undefined){(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())})(xRTML.JSON=xRTML.JSON||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(d,k){var j="xrtml:",c=function(m){return !m.getAttribute("version")||m.getAttribute("version")===b.version},g=function(m){var p=m.getElementsByTagName(j+"connection"),o=[];for(var q=0;q<p.length;++q){if(c(p[q])){var n=p[q];o.push(new l(n));p[q].parentNode.removeChild(p[q--])}}return o},h=function(m){var r=m.getElementsByTagName(j+"storage"),q=[];for(var n=0,o=r.length;n<o;n++){if(c(r[n])){var p=r[n];q.push({id:p.getAttribute("id"),baseurl:p.getAttribute("baseurl"),type:p.getAttribute("type"),connectionid:p.getAttribute("connectionid"),sessionid:p.getAttribute("sessionid"),onready:p.getAttribute("onready")?new Function("event","return "+p.getAttribute("onready")+"(event);"):null,onsession:p.getAttribute("onsession")?new Function("event","return "+p.getAttribute("onsession")+"(event);"):null,onexception:p.getAttribute("onexception")?new Function("event","event","return "+p.getAttribute("onexception")+"(event);"):null});document.getElementsByTagName(j+"storages")[0].removeChild(r[n--])}}return q},f=function(){var n=document,m=document.getElementsByTagName(j+"config");if(m.length==0){return null}if(m.length==1){m=m[0];n=window.attachEvent?document:m}else{throw"xRTML requires a configuration tag per page."}return{debug:b.Common.Converter.toBoolean(m.getAttribute("debug")),logLevel:m.getAttribute("loglevel"),xrtmlActive:b.Common.Converter.toBoolean(m.getAttribute("xrtmlactive")),throwErrors:b.Common.Converter.toBoolean(m.getAttribute("throwerrors")),connectionAttempts:b.Common.Converter.toNumber(m.getAttribute("connectionattempts")),connectionTimeout:b.Common.Converter.toNumber(m.getAttribute("connectiontimeout")),remoteTrace:b.Common.Converter.toBoolean(m.getAttribute("remotetrace")),ortcUrl:m.getAttribute("ortcurl"),ortcLibrary:m.getAttribute("ortclibrary"),connections:g(n),storages:h(n)}},l=function(q,r){var m,n;if(q.attributes){for(var o=0;o<q.attributes.length;++o){m=q.attributes[o];if(m.specified){this[m.nodeName.toLowerCase()]=m.nodeValue}}}if(q.children.length!=0){for(var p=0;p<q.children.length;++p){n=q.children[p],childName=window.addEventListener?n.nodeName.split(":")[1].toLowerCase():n.nodeName.toLowerCase();if(!r){this[childName]=[];new l(n,this[childName])}else{if(n.attributes&&n.attributes.length==1){r.push(n.attributes[0].nodeValue)}else{r.push(new l(n))}if(n.children){new l(n,r)}}}}},i=function(){var q,r=[],o=b.TagManager.getClasses();for(var n=0;n<o.length;++n){q=document.getElementsByTagName(j+o[n]);for(var m=0;m<q.length;++m){var p=q[m];if(!window.addEventListener&&p.scopeName.toLowerCase()!="xrtml"){continue}if(c(p)){var s=new l(p);s.name=o[n];r.push(s);document.body.removeChild(q[m--])}}}return r};b.Event.extend(d);d.read=function(){var m=f();if(m){m.attribute=function(o){return b.Common.Object.insensitiveGetter(this,o)};this.fire({configLoad:{config:m}})}var n=i();if(n.length!=0){this.fire({tagsLoad:{tags:n}})}}})(b.DomParser=b.DomParser||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,g){var f=false,d=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;c.extend=function(k){var h=this.prototype;f=true;var l=new this();f=false;for(var j in k){l[j]=typeof k[j]=="function"&&typeof h[j]=="function"&&d.test(k[j])?(function(n,m){return function(){var p=this._super;this._super=h[n];var o=m.apply(this,arguments);this._super=p;return o}})(j,k[j]):k[j]}function i(){if(!f&&this.init){this.init.apply(this,arguments)}}i.prototype=l;i.prototype.constructor=i;i.extend=arguments.callee;return i}})(b.Class=b.Class||function(){})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,f){var d=(function(){if(typeof console!=="undefined"){return console}var g={id:null,buffer:[],style:"width: 100%; height: 40%; position: absolute; bottom:5px; left:5px; background: silver; padding: 5px; overflow: scroll;font-family:consolas,monospace;font-size:12px; ",printObject:function(h){var i="";for(property in h){i+=property+": "+h[property]+"; \n"}return i},newLine:function(j,h){var i=document.createElement("p");i.style.color=h;i.innerHTML=j;g.id?document.getElementById(g.id).appendChild(i):g.buffer.push(i)},log:function(h){g.newLine(h,"black")},warn:function(h){g.newLine(h,"orange")},error:function(h){g.newLine(h,"red")},debug:function(h){g.newLine(h,"green")},init:function(){g.id="xRTML_Console_"+b.Common.Util.idGenerator();var h=document.createElement("div");h.id=g.id;h.style.cssText=g.style;for(var j=0,k=g.buffer.length;j<k;j++){h.appendChild(g.buffer[j])}buffer=[];document.body.appendChild(h);h.style.display=b.Config.debug?"block":"none";if(b.Config.debug){document.body.appendChild(h)}}};return g})();if(!window.addEventListener&&typeof console=="undefined"&&b.Config.debug){c=d.init()}c.log=function(g){d.log(g)},c.warn=function(g){d.warn(g)},c.error=function(g){d.error(g);if(b.Config.remoteTrace===true){this.fire({error:{error:g}})}},c.debug=function(g){if(b.Config.debug===true){d.log(g)}};b.Event.extend(c)})(b.Console=b.Console||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,f){var d="";b.Event.extend(c);c.logLevels={error:0,warn:1,info:2};c.debug=false;c.logLevel=2;c.connectionAttempts=5;c.connectionTimeout=10000;c.remoteTrace=false;c.ortcLibrary=function(h,g){if(arguments.length!=0){d=h;b.Common.DOM.loadScript({url:h,callback:g})}return d};b.DomParser.bind({configLoad:function(h){var g=h.config;c.debug=g.attribute("debug")?g.attribute("debug"):c.debug;c.logLevel=g.attribute("logLevel")?g.attribute("logLevel"):c.logLevel;c.connectionAttempts=g.attribute("connectionAttempts")?g.attribute("connectionAttempts"):c.connectionAttempts;c.connectionTimeout=g.attribute("connectionTimeout")?g.attribute("connectionTimeout"):c.connectionTimeout;c.remoteTrace=g.attribute("remoteTrace")?g.attribute("remoteTrace"):c.remoteTrace;for(var j=0;j<g.connections.length;++j){b.ConnectionManager.create(g.connections[j])}for(var j=0;j<g.storages.length;++j){b.StorageManager.create(g.storages[j])}}})})(b.Config=b.Config||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,g){var d={uiEffects:{blind:true,bounce:true,clip:true,drop:true,explode:true,fade:true,fold:true,highlight:true,puff:true,pulsate:true,scale:true,shake:true,size:true,slide:true,transfer:true},cssPropsMapping:{"padding-top":"paddingTop"},checkIfEffectFunctionAvailable:function(i){var h=(jQuery&&jQuery.fn&&((typeof jQuery.fn[i]).toLowerCase()=="function"))||(jQuery&&jQuery.effects&&((typeof jQuery.effects[i]).toLowerCase()=="function"));if(!h){b.Error.raise({code:b.Error.Codes.MISSING_LIBRARY,info:{library:"jQuery",module:i,className:"xRTML.Effect.Manager (internal class, no docs available)",methodName:"checkIfEffectFunctionAvailable (internal method, no docs available)"}})}},callJQueryEffect:function(h){b.Console.debug("jQuery effect: Running "+h.effectName+" on element "+h.element.id+" with options "+b.JSON.stringify(h.effectOptions)+" and properties: "+b.JSON.stringify(h.effectProperties));this.checkIfEffectFunctionAvailable(h.effectName);try{if(this.uiEffects[h.effectName]){jQuery.fn.effect.call(jQuery(h.element),h.effectName,h.effectOptions,h.effectSpeed,h.effectCallback)}else{jQuery.fn[h.effectName].call(jQuery(h.element),h.effectProperties,h.effectOptions)}}catch(i){b.Error.raise({code:b.Error.Codes.UNEXPECTED,info:{message:i.message,className:"xRTML.Effect.Manager (internal class, no docs available)",methodName:"callJQueryEffect (internal method, no docs available)"}})}},buildReverseEffectProperties:function(h){var i={};for(var k in h.properties){var j=b.Common.Object.insensitiveGetter(h.element.style,k.replace("-",""));if(!j||j==""){j=b.Common.DOM.getStyle({element:h.element,rule:k})}i[k]=j}return i},cloneJQueryOptions:function(i){var h={};for(prop in i){h[prop]=i[prop]}return h}},f={runEffects:function(h){if(this.effects){if(typeof h.stopCurrent=="undefined"||h.stopCurrent){d.checkIfEffectFunctionAvailable("animate");jQuery(h.element).stop(false,true)}for(var k=0;k<this.effects.length;k++){try{var l=d.cloneJQueryOptions(typeof this.effects[k].options=="object"?this.effects[k].options:b.JSON.parse(this.effects[k].options)),m=typeof this.effects[k].properties=="object"?this.effects[k].properties:b.JSON.parse(this.effects[k].properties),n=d.buildReverseEffectProperties({properties:m,element:h.element})}catch(j){b.Error.raise({code:b.Error.Codes.JSON_PARSE,info:{message:j.message,className:"xRTML.Effect.Provider (internal class, no docs available)",methodName:"runEffects"}})}d.callJQueryEffect({element:h.element,effectName:this.effects[k].name,effectOptions:l,effectProperties:m,effectSpeed:this.effects[k].speed,effectCallback:this.effects[k].callback?(typeof this.effects[k].callback=="function"?this.effects[k].callback:new Function("","return "+this.effects[k].callback+"();")):null,revert:this.effects[k].revert});if(this.effects[k].revert){d.callJQueryEffect({element:h.element,effectName:this.effects[k].name,effectOptions:l,effectProperties:n,effectSpeed:this.effects[k].speed,effectCallback:null,revert:false})}}}}};c.extend=function(i){for(var h in f){i[h]=f[h]}}})(b.Effect=b.Effect||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,f){b.Event.extend(c);c.raise=function(g){var h=new c.XRTMLError(g);new window.Error().stack?b.Console.error(h):d(h);return h};c.XRTMLError=function(g){var h=!!g.code?g.code:b.Error.Codes.UNEXPECTED;this.name=h.type;var i=!!g.info?g.info:{};i.className=!!i.className?i.className:(!!g.target?(!!g.target.name?g.target.name:Object.prototype.toString.call(g.target)):"Unknown");i.id=!!i.id?i.id:(!!g.target?g.target.id:"Unknown");i.message=!!i.message?i.message:g.message;i.arguments=g.arguments;this.message=b.Common.String.template(h.message,i);this.type=h.type;this.target=g.target;this.info=i;c.fire({exception:{error:this}})};c.XRTMLError.prototype=window.Error.prototype;c.XRTMLError.prototype.constructor=c.XRTMLError;c.Codes={MANDATORY_PROPERTY:{type:"ValidationError",message:"The property {property} is required for a {className} with the id {id}."},INVALID_PROPERTY:{type:"ValidationError",message:"The property {property} of a {className} with the id {id} has the wrong type. The appropriate type would be {validType}."},CONNECTION_INACTIVE:{type:"ConnectionError",message:"Tried to perform an operation on Connection {id} which is not active."},CONNECTION_EXCEPTION:{type:"ConnectionError",message:"An unexpected problem occured on the Connection {id}. {message}"},CONNECTION_NOT_FOUND:{type:"ConnectionError",message:"Unable to find a Connection with the specified id: {id}."},CONNECTION_PROCESS:{type:"ConnectionError",message:"An error ocurred while processing the message {xRTMLMessage} arrived at Connection {id}. {message}"},CONNECTION_ADAPT:{type:"ConnectionError",message:"An error ocurred while adapting the message {originalMessage} arrived at Connection {id}. {message}"},CONNECTION_DUPLICATE:{type:"ConnectionError",message:"Connection with id {id} already exists."},ORTC_NOT_FOUND:{type:"ORTCError",message:"Unable to obtain the ORTC library from the address specified."},ORTC_UNAVAILABLE:{type:"ORTCError",message:"Connection {id}: ORTC client is not created yet."},ORTC_DISCONNECTED:{type:"ORTCError",message:"Connection {id}: Disconnect not possible. ORTC client is not connected."},ORTC_EXCEPTION:{type:"ORTCError",message:"An unexpected problem occured on the Connection {id}. {message}"},TAG_NOT_CREATED:{type:"TagError",message:"A problem occured while trying to create a {className} Tag with id {id}. {message}"},TAG_INACTIVE:{type:"TagError",message:"Tried to perform an action on a {className} with {id} which is not active."},TAG_UNREGISTERED:{type:"TagError",message:"The specified Tag does not exist in the registered tags namespace."},TAG_INVALID_CONFIG:{type:"TagError",message:"Unable to register a Tag with the specified configuration. {message}"},TAG_ABSTRACT:{type:"TagError",message:"The specified tag {tag} should not be instantiated."},TAG_ACTION_UNDEFINED:{type:"TagError",message:"Tried to perform an action {action} which is not defined on a {className} with id {id}."},TAG_NOT_FOUND:{type:"TagError",message:"Unable to find a Tag with the specified id: {id}."},TAG_PROCESS:{type:"TagError",message:"An error ocurred while processing the arrived message on a {className} with id {id}. {message}"},INVALID_MESSAGE:{type:"MessageError",message:"Tried to create a message with invalid properties. {message}"},TRIGGER_UNREGISTERED:{type:"MessageError",message:"A message arrived containing a trigger which is not registered by any Tag."},STORAGE_CONNECTION_UNAVAILABLE:{type:"StorageError",message:"The Remote Storage component for a {className} provider with id {id} could not find a connection with connectionId: {connectionId}"},STORAGE_UNAVAILABLE:{type:"StorageError",message:"The Remote Storage component for a {className} provider with id {id} is not available."},STORAGE_SESSION:{type:"StorageError",message:"The Remote Storage component for a {className} provider with id {id} was not able to get a session. {message}"},STORAGE_ACTION_UNDEFINED:{type:"StorageError",message:"Tried to perform an action which is not defined on a {className} with id {id}."},STORAGE_PERMISSIONS:{type:"StorageError",message:"Tried to perform an action for which the {className} with id {id} does not have the necessary permissions. Were the right channel permissions set on the server-side?"},STORAGE_OPERATION_TIMEOUT:{type:"StorageError",message:"The Storage operation with the id: {opId} was not completed whithin the expected timeout: {timeout}"},STORAGE_CALLBACK_FAILURE:{type:"StorageError",message:"The Storage operation with the id: {opId} callback has failed. {message}"},REQUEST_FAILURE:{type:"RequestError",message:"An error occured while calling the specified address. {message}"},REQUEST_UNAVAILABLE:{type:"RequestError",message:"Unable to obtain a response from the specified address."},REQUEST_UNSUPPORTED:{type:"RequestError",message:"This browser does not support XMLHttpRequest neither XDomainRequest."},JSON_PARSE:{type:"ParseError",message:"Unable to parse the specified String according to JSON specification rules. {message}"},DOM_PARSE:{type:"ParseError",message:"Unable to parse an XRTML DOM Node. "},MISSING_ARGUMENT:{type:"MethodError",message:"A method {methodName} was called but the required argument {argument} was undefined."},INVALID_ARGUMENT:{type:"MethodError",message:"The method {methodName} was called but the argument {argument} was of an invalid type. The expected type was {expectedType}"},UNEXPECTED:{type:"UnexpectedError",message:"An unexpected error occured. Cause error message is: {message}"},FATAL:{type:"FatalError",message:"A critical error occured. The error message is: {message}"},INVALID_DOM_ATTRIBUTE:{type:"InvalidDomAttribute",message:"An error occured when trying to retrive an unexisting attribute: {attribute}"},TEMPLATING:{type:"TemplateError",message:"An error occured when trying to apply bindings to a template. The cause is: {message}"},TEMPLATING_EFFECTS:{type:"TemplateError",message:"An error occured when trying to run effects binded in a template. Are the effects configured in the tag? The error cause is: {message}"},UNEXPECTEDMEDIA:{type:"UnexpectedMediaError",message:"An error occurred when trying to operate on media. The cause is: {message}"},UNEXPECTEDEVENT:{type:"UnexpectedEventError",message:'An error occurred when trying to process the "{eventType}" event handler. The cause is: {message}'},MISSING_LIBRARY:{type:"MissingLibrary",message:"A required library {library} {module} is not available. Please import this library."}};var d=function(h){var i=[];i.push(h.name+": "+h.message+"\n");function g(j,k,n,q){var m=[];for(var l=0;l<n;l++){m.push(" ")}var o=m.join("");if(q<9){for(var p in j){if(j.hasOwnProperty(p)&&p!="name"&&p!="message"){if(typeof j[p]==="string"||typeof j[p]==="number"||typeof j[p]==="boolean"){k.push((o+p+": "+j[p])+"\n")}else{if(b.Common.Object.isObject(j[p])){k.push(o+p+": \n");g(j[p],k,n+4,q+1)}else{if(b.Common.Array.isArray(j[p])){k.push(o+p+": \n");for(var l=0;l<j[p].length;l++){g(j[p],k,n+4,q+1)}}}}}}}else{k.push(o+j.toString()+"\n")}}g(h,i,0,1);b.Console.error(i.join(""))}})(b.Error=b.Error||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.contains=function(h){var k=h.items;for(var j=0,l=k.length;j<l;j++){if(b.Common.Object.equals({o1:k[j],o2:h.obj})){return true}}return false};f.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"}})(b.Common.Array=b.Common.Array||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.equals=function(h){return b.JSON.stringify(h.o1)===b.JSON.stringify(h.o2)};f.isObject=function(h){return""+h=="[object Object]"};f.insensitiveGetter=function(h,j){for(var i in h){if(h.hasOwnProperty&&h.hasOwnProperty(i)&&(j+"").toLowerCase()==(i+"").toLowerCase()){return h[i];break}}};f.keys=window.Object.keys||function(j){var i=[],h;for(h in j){if(f.prototype.hasOwnProperty.call(j,h)){i.push(h)}}return i}})(b.Common.Object=b.Common.Object||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.trim=function(h){return typeof window.String.prototype.trim=="function"?h.trim():h.replace(/^\s*/,"").replace(/\s*$/,"")};f.template=function(j,k){for(var h in k){var i=new RegExp("\\{"+h+"\\}","gm");j=j.replace(i,k[h])}return j}})(b.Common.String=b.Common.String||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.loadScript=function(h){var i=document.createElement("script");i.type="text/javascript";if(i.readyState){i.onreadystatechange=function(){if(i.readyState=="loaded"||i.readyState=="complete"){i.onreadystatechange=null;h.callback.apply(this,arguments)}}}else{i.onload=function(){h.callback.apply(this,arguments)}}i.src=h.url;document.getElementsByTagName("head")[0].appendChild(i)};f.getStyle=function(h){if(document.defaultView&&document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(h.element,"").getPropertyValue(h.rule)}if(h.element.currentStyle){var i=h.rule.replace(/\-(\w)/g,function(k,j){return j.toUpperCase()});return h.element.currentStyle[i]}return""}})(b.Common.DOM=b.Common.DOM||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(g,i){g.post=function(l){l.method="POST";h(l)};g.get=function(l){l.method="GET";if(l.data!="undefined"){var p=l.url,m=l.data;p+=p.indexOf("?")==-1?"?":"&";for(var n in l.data){var o=m[n];if(typeof o!="object"&&typeof o!="boolean"){p+=n+"="+o+"&"}}if(p.lastIndexOf("&")==p.length-1){p=p.slice(0,-1)}l.url=p}h(l)};var h=function(l){var m=f(l).create(l.method.toLowerCase(),l.url,b.Common.Function.proxy(function(o,n,p){if(typeof n!="undefined"&&n!=null){if(l.error){l.error(n)}}else{if(l.success){l.success(o)}}if(l.complete){l.complete(o,n,p)}},this),l.async,l.headers);m.send(l.data?l.data:null)},f=function(l){if(window.XMLHttpRequest&&(!l.crossDomain||"withCredentials" in k().getNativeObject())){return k()}else{if(window.XDomainRequest){return j()}else{b.Error.raise({code:b.Error.Codes.REQUEST_UNSUPPORTED,info:{className:"xRTML.Common.Request",methodName:"getRequestType (internal method, no docs available)"}})}}},k=function(){return{getNativeObject:function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{if(window.ActiveXObject){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(l){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(l){}try{return ActiveXObject("Microsoft.XMLHTTP")}catch(l){}}}b.Error.raise({code:b.Error.Codes.REQUEST_UNSUPPORTED,info:{className:"xRTML.Common.Request.XHR (internal class, no docs available)",methodName:"getNativeObject (internal method, no docs available)"}})},create:function(o,r,m,l,n){var q=this;q.xhr=this.getNativeObject();q.callback=m;o=o.toUpperCase();q.xhr.onreadystatechange=function(){try{if(this.readyState==4){if(this.status==200){q.callback(this.responseText,null,this.status)}else{if(this.status==0){q.callback(null,"The status code is 0 which likely means that the server is unavailable.",this.status)}else{q.callback(null,this.responseText,this.status)}}}}catch(s){b.Console.error(s)}};q.xhr.open(o,r,!!l?l:true);q.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");q.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var p in n){q.xhr.setRequestHeader(p,n[p])}if(o=="POST"){q.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}return q},send:function(l){if(l&&typeof(l)!="string"){l=b.JSON.stringify(l)}b.Console.debug("Performing request with payload: "+l);this.xhr.send(l)}}},j=function(){return{create:function(o,q,m,l){var p=this;p.xdr=new XDomainRequest();p.callback=m;o=o.toUpperCase();p.xdr.onload=function(){try{p.callback(p.xdr.responseText)}catch(r){b.Error.raise({code:b.Error.Codes.UNEXPECTED,info:{message:r.message,className:"xRTML.Common.Request.XDR (internal class, no docs available)",methodName:"onload (internal method, no docs available)"}})}};p.xdr.onerror=function(){try{p.callback(null,p.xdr.responseText)}catch(r){b.Error.raise({code:b.Error.Codes.UNEXPECTED,info:{message:r.message,className:"xRTML.Common.Request.XDR (internal class, no docs available)",methodName:"onerror (internal method, no docs available)"}})}};p.xdr.open(o,q,!!l?l:true);try{p.xdr.contentType="text/plain"}catch(n){}return p},send:function(l){var m=this;function n(o){if(o&&typeof(o)!="string"){o=b.JSON.stringify(o)}b.Console.log("Performing request with payload:"+o);m.xdr.send(o);if(m.xdrTimeout){clearTimeout(m.xdrTimeout);m.xdrTimeout=i}}if(m.xdrReady){n(l)}else{m.xdrTimeout=setTimeout(function(){n(l)},500)}}}}})(b.Common.Request=b.Common.Request||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.setCookie=function(h){var i=h.name+"="+escape(h.value);if(h.expires){i+="; expires="+h.expires.toGMTString()}if(h.path){i+="; path="+escape(h.path)}else{i+="; path=/"}if(h.domain){i+="; domain="+escape(h.domain)}if(h.secure){i+="; secure"}document.cookie=i};f.getCookie=function(h){var i=document.cookie.match("(^|;) ?"+h.name+"=([^;]*)(;|$)");if(i){return(unescape(i[2]))}return g};f.deleteCookie=function(h){h.value="";h.expires=new Date("Thu, 01 Jan 1970 00:00:01 GMT");f.setCookie(h)}})(b.Common.Cookie=b.Common.Cookie||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(g,f){g.validateRequired=function(h){if(!h.target[h.prop]&&h.target[h.prop]!=0&&(b.Common.Array.isArray(h.target[h.prop])&&h.target[h.prop].length<=0)){b.Error.raise({code:b.Error.Codes.MANDATORY_PROPERTY,target:h.target,info:{property:h.prop}})}}})(b.Common.Validator=b.Common.Validator||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.toBoolean=function(h){return typeof h==="undefined"?h:(/^true|1|yes$/i).test(h)};f.toNumber=function(h){if(typeof h==="undefined"){return h}if(typeof h=="number"){return h}if(typeof h=="string"){return b.Common.String.trim(h)==""?0:window.Number(h)}}})(b.Common.Converter=b.Common.Converter||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(h,g){var f=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};h.guidGenerator=function(){return(f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f())};h.idGenerator=function(){return(f()+f())}})(b.Common.Util=b.Common.Util||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){(function(f,g){f.proxy=function(i,h){if(typeof i==="function"&&typeof h==="object"){return function(){return i.apply(h,arguments)}}};f.parse=function(k){if(typeof k=="function"){return k}if(typeof k!="string"){return null}var h="",j="return "+k+"(";if(arguments.length!=1){for(var l=1;l<arguments.length;++l){h+=arguments[l]+","}h=h.substring(0,h.length-1)}j+=h+");";return new window.Function(h,j)}})(b.Common.Function=b.Common.Function||{})})(b.Common=b.Common||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,h){var d={},f=function(i){for(var j in d){if(d[j].id===i){return d[j]}}return h},g={add:function(i){var j=i.connection.id;if(!this.bConnections[j]){this.bConnections[j]=[];i.connection.bind({connect:this.send})}this.bConnections[j].push(i.message)},bConnections:{},send:function(k){var m=g.bConnections[k.target.id],j=k.target;for(var l=0;l<m.length;++l){j.send(m[l])}j.unbind({connect:g.send});g.bConnections[k.target.id]=h}};c.create=function(i){i.attribute=function(j){return b.Common.Object.insensitiveGetter(this,j)};return this.add(new this.Connection(i))};c.add=function(i){if(this.getById(i.id)){throw new b.Error({code:b.Error.Codes.CONNECTION_DUPLICATE,target:i})}this.Connections.push(i.id);this.fire({connectionCreate:{connection:i}});d[i.internalId]=i;i.bind({xrtmlMessage:function(j){c.fire({xrtmlMessage:{connection:j.target,channel:j.channel,message:j.message}})}});i.bind({dispose:function(m){var j=m.target.internalId,l=d[j];d[j]=null;delete d[j];for(var n=0,k=c.Connections,o=k.length;n<o;n++){if(k[n]===m.target.id){k.splice(n,1);break}}c.fire({connectionDispose:{connection:m.target}})}});return i};c.getById=function(i){return d[i]||f(i)};c.dispose=function(j){var i=this.getById(j);if(i){i.dispose()}else{b.Console.warn("ConnectionManager: Connection "+j+" was not found.")}};c.addChannel=function(i){var j=this.getById(i.connectionId);if(typeof j==="undefined"){j=this.getConnectionById(i.connectionId);if(j===null){b.Error.raise({code:b.Error.Codes.CONNECTION_NOT_FOUND,target:this,info:{className:"xRTML.ConnectionManager",methodName:"addChannel"}})}}j.createChannel(i)};c.sendMessage=function(l){var j=null;for(var k=0;k<l.connections.length;++k){j=this.getById(l.connections[k]);if(j){if(j.isConnected()){j.send(l)}else{g.add({connection:j,message:{channel:l.channel,content:l.content,sendOnly:l.sendOnly}});b.Console.debug("ConnectionManager: Connection with id "+l.connections[k]+" is not connected. Buffering message:");b.Console.debug(l)}}else{b.Error.raise({code:b.Error.Codes.CONNECTION_NOT_FOUND,target:this,info:{className:"xRTML.ConnectionManager",methodName:"sendMessage"}})}}};c.Connections=[];b.Event.extend(c)})(b.ConnectionManager=b.ConnectionManager||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){c.Connection=function(g){var m=null,f=true;b.Event.extend(this);this.internalId=b.Common.Util.guidGenerator();this.id=g.attribute("id")||this.internalId;this.appKey=g.attribute("appKey");this.authToken=g.attribute("authToken");this.sendRetries=parseInt(g.attribute("sendRetries"))||5;this.sendInterval=parseInt(g.attribute("sendInterval"))||1000;this.timeout=g.attribute("timeout")||b.Config.connectionTimeout;this.connectAttempts=g.attribute("connectAttempts")||b.Config.connectionAttempts;this.connectionAttemptsCounter=0;this.autoConnect=g.attribute("autoConnect")?b.Common.Converter.toBoolean(g.attribute("autoConnect")):true;this.metadata=g.attribute("metadata");this.serverType=g.attribute("serverType")||"IbtRealTimeSJ";this.url=g.attribute("url")||b.Console.error("Connection "+(this.id||this.internalId)+": ORTC Server URL must be set.");this.isCluster=g.attribute("isCluster")?b.Common.Converter.toBoolean(g.attribute("isCluster")):true;this.announcementSubChannel=g.attribute("announcementSubChannel");this.channels={};var p=b.Common.Function.parse,n=b.Common.Function.proxy;this.messageAdapter=p(g.attribute("messageAdapter"),"message");this.bind({create:p(g.attribute("onCreate"),"e"),connect:p(g.attribute("onConnect"),"e"),disconnect:p(g.attribute("onDisconnect"),"e"),subscribe:p(g.attribute("onSubscribe"),"e"),unsubscribe:p(g.attribute("onUnsubscribe"),"e"),exception:p(g.attribute("onException"),"e"),reconnect:p(g.attribute("onReconnect"),"e"),reconnecting:p(g.attribute("onReconnecting"),"e"),message:p(g.attribute("onMessage"),"e"),dispose:p(g.attribute("onDispose"),"e")});var l=n(function(q,i,r){this.process({channel:i,message:r})},this),k=function(i){m=i.createClient();m.setId(this.internalId);m.setConnectionTimeout(this.timeout);m.setConnectionMetadata(this.metadata);m.setAnnouncementSubChannel(this.announcementSubChannel);!this.isCluster?m.setUrl(this.url):m.setClusterUrl(this.url);m.onConnected=n(function(s){for(var r in this.channels){var q=this.channels[r];if(q.subscribe){s.subscribe(q.name,q.subscribeOnReconnect,l)}}this.fire({connect:{}})},this);m.onDisconnected=n(function(q){this.fire({disconnect:{}})},this);m.onSubscribed=n(function(r,q){this.channels[q].fire({subscribe:{}});this.fire({subscribe:{channel:q}})},this);m.onUnsubscribed=n(function(r,q){var s=this.channels[q];delete this.channels[q];s.fire({unsubscribe:{}});this.fire({unsubscribe:{channel:q}})},this);m.onException=n(function(r,q){this.fire({exception:{message:q}});b.Error.raise({code:b.Error.Codes.ORTC_EXCEPTION,info:{className:"ORTCClient",methodName:"onException",message:q}})},this);m.onReconnected=n(function(q){this.connectionAttemptsCounter=0;this.fire({reconnect:{}})},this);m.onReconnecting=n(function(q){if(this.connectionAttemptsCounter>=this.connectAttempts){q.disconnect()}else{this.connectionAttemptsCounter++;this.fire({reconnecting:{}})}},this);this.fire({create:{}});if(this.autoConnect){m.connect(this.appKey,this.authToken)}};var o=function(i,q){if(this.isCreated()&&this.isConnected()){this.send(i)}else{if(++q<=this.sendRetries){setTimeout(n(function(){n(o,this)(i,q)},this),this.sendInterval);b.Console.debug("Message "+i.content+" not sent to channel "+i.channel+". Retry "+q+"/"+this.sendRetries+" in "+this.sendInterval/1000+" seconds.")}else{b.Console.debug("Message "+i.content+" not sent to channel "+i.channel+". Discarding message.")}}};this.active=function(i){if(!i){return f}f=b.Common.Converter.toBoolean(i);return f};this.dispose=function(){if(this.isConnected()){this.disconnect()}this.fire({dispose:{}})};this.createChannel=function(i){i.attribute=function(r){return b.Common.Object.insensitiveGetter(this,r)};var q={connectionId:i.attribute("connectionId")||this.id,name:i.attribute("name"),subscribeOnReconnect:i.attribute("subscribeOnReconnect")?b.Common.Converter.toBoolean(i.attribute("subscribeOnReconnect")):true,subscribe:i.attribute("subscribe")?b.Common.Converter.toBoolean(i.attribute("subscribe")):true,messageAdapter:p(i.attribute("messageAdapter","message"))};b.Event.extend(q);q.bind({message:p(i.attribute("onMessage"),"e"),subscribe:p(i.attribute("onSubscribe"),"e"),unsubscribe:p(i.attribute("onUnsubscribe"),"e")});this.channels[i.name]=q;this.fire({channelCreate:{channel:q}});return q};this.process=function(q){var i=q.channel,s=q.message;if(s.substring(0,15)=="_X_SEND_ONLY_X_"){var t=s.substring(15,51);if(this.internalId==t){return}else{s=s.substring(54)}}if(this.active()){try{if(this.messageAdapter){s=this.messageAdapter(s)}if(this.channels[i]&&this.channels[i].messageAdapter){s=this.channels[i].messageAdapter(s)}}catch(r){b.Error.raise({code:b.Error.Codes.CONNECTION_ADAPT,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"process",originalMessage:s,message:r.message}})}var u=s;this.channels[i].fire({message:{message:u}});this.fire({message:{channel:i,message:u}});if(b.MessageManager.isValid(s)){u=b.MessageManager.toJson(s).xrtml;this.fire({xrtmlMessage:{message:u,channel:i}})}}else{b.Console.debug("Connection "+(this.id||this.internalId)+" : Not active. Message received wasn't processed.")}};this.send=function(i){var q=i.channel,r=i.content;if(typeof r==="object"){r=r.stringify()}if(this.isCreated()&&this.isConnected()){if(this.active()){if(i.sendOnly){r="_X_SEND_ONLY_X_"+this.internalId+"_X_"+r}m.send(q,r);var s;try{s=b.JSON.parse(r)}catch(t){s=r}b.Console.debug("Connection "+(this.id||this.internalId)+": Message sent to channel "+q);b.Console.debug(s)}else{b.Console.debug("Connection "+(this.id||this.internalId)+": Not active. Message not sent to channel "+q);b.Console.debug(r)}}else{setTimeout(n(function(){n(o,this)(i,0)},this),this.sendInterval);b.Console.debug("Connection "+(this.id||this.internalId)+": Not ready. Message not sent to channel "+q+". Retrying in "+this.sendInterval/1000+" seconds.");b.Console.debug(r)}};this.connect=function(i){if(this.isCreated()){if(i){this.appKey=i.appKey;this.authToken=i.authToken}m.connect(this.appKey,this.authToken)}else{b.Error.raise({code:b.Error.Codes.ORTC_UNAVAILABLE,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"connect"}})}};this.disconnect=function(){this.isConnected()?m.disconnect():b.Error.raise({code:b.Error.Codes.ORTC_DISCONNECTED,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"disconnect"}})};this.subscribe=function(i){i=this.createChannel(i);m.subscribe(i.name,i.subscribeOnReconnect,l)};this.unsubscribe=function(i){m.unsubscribe(i)};this.isCreated=function(){return m!=null};this.isConnected=function(){return this.isCreated()?m.getIsConnected():false};this.isSubscribed=function(i){return this.isConnected()?m.isSubscribed(i):false};this.getMetadata=function(){return this.isCreated()?m.getConnectionMetadata():b.Error.raise({code:b.Error.Codes.ORTC_UNAVAILABLE,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"getMetadata"}})};this.setMetadata=function(i){return this.isCreated()?m.setConnectionMetadata(i):b.Error.raise({code:b.Error.Codes.ORTC_UNAVAILABLE,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"setMetadata"}})};this.getAnnouncementSubChannel=function(){return this.isCreated()?m.getAnnouncementSubChannel():b.Error.raise({code:b.Error.Codes.ORTC_UNAVAILABLE,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"getAnnouncementSubChannel"}})};this.getProtocol=function(){return this.isConnected()?m.getProtocol():b.Error.raise({code:b.Error.Codes.ORTC_UNAVAILABLE,target:this,info:{className:"xRTML.ConnectionManager.Connection",methodName:"getProtocol"}})};this.setProtocol=function(i){if(this.isCreated()){m.setProtocol(i)}};if(typeof loadOrtcFactory!="undefined"){loadOrtcFactory(this.serverType,n(k,this))}else{b.bind({ready:n(function(){n(loadOrtcFactory,this)(this.serverType,n(k,this))},this)})}if(g.attribute("channels")){var h=g.attribute("channels");for(var j=0;j<h.length;++j){this.createChannel(h[j])}}}})(b.ConnectionManager=b.ConnectionManager||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(d,g){var f={},c=function(h){for(var i in f){if(f[i].id===h){return f[i]}}b.Console.warn("Storage with id: "+h+" was not found.");return g};d.create=function(h){try{var k=new d[h.type||"KeyValuePairStorage"](),j=d.BaseStorage.extend(k);h.attribute=function(l){return b.Common.Object.insensitiveGetter(h,l)};j=new j(h);j.bind({dispose:function(m){var n=m.target.internalId,l=f[n];f[n]=null;delete f[n];d.fire({storagedispose:{storage:m.target}})}});f[j.internalId]=j;d.fire({storagecreate:{storage:j}});return j}catch(i){b.Error.raise({code:b.Error.Codes.UNEXPECTED,info:{message:i.message,className:"xRTML.StorageManager",methodName:"create"}})}};d.getById=function(h){return f[h]||c(h)};b.Event.extend(d)})(b.StorageManager=b.StorageManager||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(d,f){var c=function(){this.init=function(h){b.Event.extend(this);this.internalId=b.Common.Util.guidGenerator();this.id=h.attribute("id")||this.internalId;this.type=h.attribute("type")||"KeyValuePairStorage";this.isReady=false;var g=h.attribute("autoConnect");this.autoConnect=typeof g!="undefined"?b.Common.Converter.toBoolean(g):true;this.dispose=function(){this.fire({dispose:{}})};this.bind({ready:b.Common.Function.parse(h.attribute("onready")),exception:b.Common.Function.parse(h.attribute("onexception"))})}};d.BaseStorage=b.Class.extend(new c())})(b.StorageManager=b.StorageManager||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(d,f){var c=function(){this.init=function(o){this._super(o);var n=o.attribute("baseUrl");this.baseUrl=!!n?(n[n.length-1]=="/"?n.substring(0,(n.length-1)):n):null;b.Common.Validator.validateRequired({target:this,prop:"baseUrl"});this.connectionId=o.attribute("connectionId");this.sessionId=o.attribute("sessionId");var p=o.attribute("operationsTimeout");this.operationsTimeout=!!p?p:2000;this.bind({session:b.Common.Function.parse(o.attribute("onsession"))});if(this.autoConnect){this.openConnection()}};var j={};var m=[];var g={get:"readRequestChannel",set:"writeRequestChannel",del:"writeRequestChannel",incr:"writeRequestChannel"};var h={readRequestChannel:f,readResponseChannel:f,writeRequestChannel:f,writeResponseChannel:f};var i;this.set=function(o,n){k.call(this,{data:o,action:"set",callback:n})};this.del=function(o,n){k.call(this,{data:o,action:"del",callback:n})};this.incr=function(o,n){k.call(this,{data:o,action:"incr",callback:n})};this.get=function(o,n){k.call(this,{data:o,action:"get",callback:n})};var k=function(q){if(this.isReady){var p=b.Common.Util.guidGenerator();j[p]={callback:q.callback,timeout:setTimeout(b.Common.Function.proxy(function(){b.Error.raise({code:b.Error.Codes.STORAGE_OPERATION_TIMEOUT,target:this,info:{opId:p,timeout:this.operationsTimeout,className:"xRTML.StorageManager.KeyValuePairStorage",methodName:"performRemoteDataOperation (internal method, no docs available)"}})},this),this.operationsTimeout)};var n=q.data;n.namespaceExpire=n.namespaceExpire||31556926;n.opId=p;var o=b.MessageManager.create({action:q.action,data:n,senderId:this.internalId});i.send({channel:h[g[q.action]],content:o})}else{m.push(q);b.Console.warn("Storage operation placed in buffer. Will only be called when the Storage is ready.")}};var l=function(q){var o=q.data;var p=o.opId;o.opId=null;delete o.opId;var n={success:q.success,data:q.success?o:null,error:!q.success?q.data.error:null};if(j[p]&&j[p].callback){j[p].callback(n)}clearTimeout(j[p].timeout);j[p]=null;delete j[p]};this.getSession=function(n){b.Common.Request.post({url:this.baseUrl+"/getStorageSession",data:n,crossDomain:true,success:b.Common.Function.proxy(function(q){var p;try{p=b.JSON.parse(q)}catch(o){b.Error.raise({code:b.Error.Codes.JSON_PARSE,target:this,info:{className:"xRTML.StorageManager.KeyValuePairStorage",methodName:"getSession",message:o.message}})}this.sessionId=p.sessionId;this.fire({session:{sessionId:this.sessionId}});if(n.autoConnect){this.openConnection()}},this),error:b.Common.Function.proxy(function(o){b.Error.raise({code:b.Error.Codes.STORAGE_SESSION,target:this,info:{className:"xRTML.StorageManager.KeyValuePairStorage",methodName:"getSession",message:o}})},this)})};this.openConnection=function(){if(this.sessionId){b.Common.Request.post({url:this.baseUrl+"/openStorageConnection",data:{sessionId:this.sessionId},crossDomain:true,success:b.Common.Function.proxy(function(t){var s;try{s=b.JSON.parse(t)}catch(r){b.Error.raise({code:b.Error.Codes.JSON_PARSE,target:this,info:{className:"xRTML.StorageManager.KeyValuePairStorage",methodName:"openConnection",message:r.message}})}h.readRequestChannel=s.channels.readRequestChannel;h.readResponseChannel=s.channels.readResponseChannel;h.writeRequestChannel=s.channels.writeRequestChannel;h.writeResponseChannel=s.channels.writeResponseChannel;if(!!this.connectionId){i=b.ConnectionManager.getById(this.connectionId)}else{var o={appKey:s.appKey,authToken:s.authToken,url:s.url,isCluster:s.isCluster,serverType:s.serverType};i=b.ConnectionManager.create(o)}function p(u){u.bind({xrtmlMessage:b.Common.Function.proxy(function(x){if(x.channel==h.readResponseChannel||x.channel==h.writeResponseChannel){var y=x.message;l.call(this,{success:y.action=="exception"?false:true,data:y.data})}},this)});var v=false;var w=false;u.bind({subscribe:b.Common.Function.proxy(function(x){if(x.channel==h.readResponseChannel){v=true}if(x.channel==h.writeResponseChannel){w=true}if(v&&w){this.isReady=true;for(var y=0,z=m.length;y<z;y++){k.call(this,m[y])}m=[];this.fire({ready:{}})}},this)});u.subscribe({name:h.readResponseChannel});u.subscribe({name:h.writeResponseChannel})}if(i.isConnected()){p.call(this,i)}else{if(i.autoConnect){i.bind({connect:b.Common.Function.proxy(function(u){p.call(this,u.target)},this)})}else{i.bind({connect:b.Common.Function.proxy(function(u){p.call(this,u.target)},this)});function q(u){if(!u.appKey&&!u.authToken){u.appKey=s.appKey;u.authToken=s.authToken}u.connect()}if(i.isCreated()){q.call(this,i)}else{i.bind({create:b.Common.Function.proxy(function(u){q.call(this,u.target)},this)})}}}},this),error:b.Common.Function.proxy(function(o){b.Error.raise({code:b.Error.Codes.REQUEST_FAILURE,target:this,info:{className:"xRTML.StorageManager.KeyValuePairStorage",methodName:"openConnection",message:o}})},this)})}else{i=b.ConnectionManager.getById(this.connectionId);if(!!i){var n={appKey:i.appKey,serverUrl:i.url,isCluster:i.isCluster,serverType:i.serverType,timeToLive:900,authenticate:false,autoConnect:true};this.getSession(n)}else{b.Error.raise({code:b.Error.Codes.STORAGE_CONNECTION_UNAVAILABLE,target:this,info:{connectionId:this.connectionId,className:"xRTML.StorageManager.KeyValuePairStorage",methodName:"openConnection"}})}}}};d.KeyValuePairStorage=c})(b.StorageManager=b.StorageManager||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(k,m){var j={},l={},d=null,g=function(n){for(var o in j){if(j[o].id===n){return j[o]}}b.Console.log("Tag with id: "+n+" was not found.");return m},f=function(o){if(o.base!="Tag"){var n=f(new l[o.base]());o=n.extend(o)}else{o=d.extend(o)}return o},c=function(n){return b.Common.Object.insensitiveGetter(this,n)},i=[];if(!b.domLoaded()){function h(){var n;for(var o=0;o<i.length;++o){n=i[o];b.Console.debug("TagManager: Creating a "+n.tagObject.name+" tag after the HTML page has been fully loaded.");b.TagManager.create(n.tagObject,n.fn)}i=[];b.Event.unbind(window,{load:h})}b.Event.bind(window,{load:h})}k.register=function(o){var n=o.name;if(n){if(n!="Tag"){if(!l[n]){if(!o.base){o.base="Tag"}l[n]=o.struct;l[n].prototype.base=o.base;l[n].prototype.name=o.name;l[n].prototype["abstract"]=o["abstract"]||false}}else{d=o.struct}}else{b.Error.raise({code:b.Error.Codes.TAG_INVALID_CONFIG,target:this,info:{message:"Please provide the tag name.",className:"xRTML.TagManager",methodName:"register"}})}};k.create=function(q,o){try{if((q.target||q.template)&&!b.domLoaded()){i.push({tagObject:q,fn:o});b.Console.debug("TagManager: Creating a "+q.name+" tag was postponed until HTML page has been fully loaded.");return}q.attribute=c;if(!l[q.name]){throw b.Error.raise({code:b.Error.Codes.TAG_UNREGISTERED,info:{tagName:q.name,className:"xRTML.TagManager",methodName:"create"}})}var p=new l[q.name]();if(!!p["abstract"]){throw b.Error.raise({code:b.Error.Codes.TAG_ABSTRACT,target:this,info:{tag:p,className:"xRTML.TagManager",methodName:"create"}})}var r=p.base=="Tag"?d.extend(p):f(p);r=new r(q);r.fire({postInit:{}});r.bind({dispose:function(t){var u=t.target.internalId,s=j[u];j[u]=null;delete j[u];k.fire({tagDispose:{tag:t.target}})}});j[r.internalId]=r;k.fire({tagCreate:{tag:r}});if(o){o(r)}}catch(n){b.Error.raise({code:b.Error.Codes.TAG_NOT_CREATED,target:this,info:{id:q.id,className:"xRTML.TagManager."+q.name,methodName:"init",message:n.message,tagConfig:q}})}};k.getById=function(n){return j[n]||g(n)};k.getClasses=function(){var o=[];for(var n in l){o.push(n)}return o};b.Event.extend(k);b.DomParser.bind({tagsLoad:function(n){var p=n.tags;for(var o=0;o<p.length;++o){k.create(p[o])}}})})(b.TagManager=b.TagManager||{})})(window.xRTML=window.xRTML||{});xRTML.TagManager.register({name:"Tag","abstract":true,struct:xRTML.Class.extend(new function(){this.init=function(a){xRTML.Event.extend(this);var b=xRTML.Common.Function.parse;this.bind({preInit:b(a.attribute("onPreInit")),postInit:b(a.attribute("onPostInit")),active:b(a.attribute("onActive")),preProcess:b(a.attribute("onPreProcess")),postProcess:b(a.attribute("onPostProcess")),dispose:b(a.attribute("onDispose"))});this.fire({preInit:{}});this.internalId=xRTML.Common.Util.guidGenerator();this.id=a.attribute("id")||this.internalId;this.connections=a.attribute("connections")||[];this.channelId=a.attribute("channelId");this.triggers=a.attribute("triggers")||[];this.receiveOwnMessages=!!a.attribute("receiveOwnMessages");this.target=(function(){var c=xRTML.Sizzle(a.attribute("target"));if(c.length==0){c.push(document.body)}return c})();this.active=a.attribute("active")?xRTML.Common.Converter.toBoolean(a.attribute("active")):true};this.activate=function(a){this.active=xRTML.Common.Converter.toBoolean(a.active);this.fire({active:{value:this.active}})};this.process=function(a){};this.sendMessage=function(a){xRTML.ConnectionManager.sendMessage({connections:a.connectionId?[a.connectionId]:this.connections,channel:a.channel||this.channelId,content:xRTML.MessageManager.create({trigger:a.trigger?[a.trigger]:this.triggers,action:a.action,data:a.data,senderId:this.internalId})})};this.dispose=function(){this.target=null;this.fire({dispose:{}})};this.registerTrigger=function(a){xRTML.MessageBroker.registerTrigger({name:a,tagId:this.internalId})};this.unregisterTrigger=function(a){xRTML.MessageBroker.unregisterTrigger({name:a,tagId:this.internalId})}})});(function(b,a){(function(c,i){var g={},f=function(p){if(g[p.name]){for(var o in g[p.name]){var n=b.TagManager.getById(o),m=p.message;if(n.active||m.data.action=="activate"){if(n.receiveOwnMessages||!m.senderId||n.internalId!==m.senderId){var l=m.data,k=m.action;n.fire({preProcess:l});if(k){n[k]?n[k].call(n,l):b.Error.raise({code:b.Error.Codes.TAG_ACTION_UNDEFINED,target:n,info:{action:k,className:"xRTML.MessageBroker",methodName:"triggerCall (internal method, no docs available)"}})}else{n.process(l)}n.fire({postProcess:l})}}else{b.Error.raise({code:b.Error.Codes.TAG_INACTIVE,target:n,className:"xRTML.MessageBroker",methodName:"triggerCall (internal method, no docs available)"})}}}else{b.Console.debug("Trigger "+p.name+" is not registered with any xRTML Tag.")}},d=function(k){var m=k.tag,n;for(var l=0;l<m.triggers.length;++l){n=m.triggers[l];c.registerTrigger({tagId:m.internalId,name:n})}},j=function(k){var m=k.tag,n;for(var l=0;l<m.triggers.length;++l){n=m.triggers[l];c.unregisterTrigger({tagId:m.internalId,name:n})}},h=function(k){var m=k.message.trigger;if(typeof m=="string"){f({name:m,message:k.message})}else{if(m instanceof Array){for(var l=0;l<m.length;++l){k.message.trigger=m[l];f({name:m[l],message:k.message})}}}};c.registerTrigger=function(k){if(!g[k.name]){g[k.name]={}}g[k.name][k.tagId]=i;c.fire({triggerRegister:{trigger:k}})};c.unregisterTrigger=function(l){var k=g[l.name];if(!k){b.Console.warn("The trigger "+l.name+" is not registered.");return}if(k.hasOwnProperty(l.tagId)){delete g[l.name][l.tagId];if(!b.Common.Object.keys(k).length){delete g[l.name]}c.fire({triggerUnregister:{trigger:l}})}else{b.Console.warn("The tag "+l.tagId+" is not listening to messages with the trigger "+l.name+".")}};b.Event.extend(c);b.TagManager.bind({tagCreate:d,tagDispose:j});b.ConnectionManager.bind({xrtmlMessage:h})})(b.MessageBroker=b.MessageBroker||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(c,d){c.isValid=function(h){try{if(typeof h==="string"){var g=h.substring(h.indexOf('"'),h.indexOf('"',h.indexOf('"')+1)+1);if('"xrtml"'!=b.Common.String.trim(g)){return false}b.JSON.parse(h);return true}if((typeof h==="object")&&h.xrtml){return true}return false}catch(f){b.Error.raise({code:b.Error.Codes.INVALID_MESSAGE,target:this,message:f.message,info:{className:"xRTML.MessageManager",methodName:"isValid"}})}};c.toJson=function(g){if(typeof g==="string"&&c.isValid(g)){var f=b.JSON.parse(g).xrtml;var h={xrtml:{senderId:f.s,trigger:f.t,action:f.a,data:f.d}};return h}return g};c.stringify=function(f){var g={xrtml:{s:f.senderId,t:f.trigger,a:f.action,d:f.data&&typeof f.data!="object"?b.JSON.parse(f.data):f.data}};return b.JSON.stringify(g)};c.create=function(f){f.data=f.data&&typeof f.data!="object"?b.JSON.parse(f.data):f.data;f.stringify=function(){return c.stringify(this)};return f}})(b.MessageManager=b.MessageManager||{})})(window.xRTML=window.xRTML||{});(function(b,a){(function(f,g){var d=function(j,k){if(b.Config.remoteTrace){var h=null;try{h=b.JSON.stringify(k)}catch(i){}var l=b.MessageManager.create({data:{message:j,content:h}});b.ConnectionManager.sendMessage(b.TraceMonitor.channelId,l)}};f.channelId="trace";b.Console.bind({error:function(h){d("Error",h.error)}});b.ConnectionManager.bind({connectionCreate:function(i){var h=i.connection;d("Connection found: \n AppKey: "+h.appKey+" \n AuthToken: "+h.authToken+" \n Url: "+h.url,h);h.bind({create:function(j){var k="Connection "+j.target.id+" created. "+(j.target.autoConnect?"Connecting...":"Waiting for explicit connect...");b.Console.debug(k);d(k,j.target)},connect:function(j){var k="Connection "+j.target.id+" established. Using "+j.target.getProtocol()+" protocol.";b.Console.debug(k);d(k,j.target)},disconnect:function(j){var k="Connection "+j.target.id+" closed.";b.Console.debug(k);d(k,j.target)},subscribe:function(j){var k="Connection "+j.target.id+": Channel "+j.channel+" subscribed.";b.Console.debug(k);d(k,j.target)},unsubscribe:function(j){var k="Connection "+j.target.id+": Channel "+j.channel+" unsubscribed.";b.Console.debug(k);d(k,j.target)},exception:function(j){var k="Connection "+j.target.id+" threw an exception: "+j.event;b.Console.debug(k);d(k,j.target)},reconnect:function(j){var k="Connection "+j.target.id+" is restored. Using "+j.target.getProtocol()+" protocol.";b.Console.debug(k);d(k,j.target)},reconnecting:function(j){var k="Connection "+j.target.id+" was lost. ";if(j.target.connectionAttemptsCounter>=j.target.connectAttempts){k+="Maximum number of attempts reached: "+j.target.connectAttempts+" Stop trying to reconnect."}else{k+="Trying to reconnect. Attempt "+j.target.connectionAttemptsCounter+" out of "+j.target.connectAttempts}b.Console.debug(k);d(k,j.target)},message:function(j){var l="Connection "+j.target.id+": Message received from channel "+j.channel,m;try{m=b.JSON.parse(j.message)}catch(k){m=j.message}b.Console.debug(l);b.Console.debug(m);d(m,j.target)},xrtmlMessage:function(j){var k="Connection "+j.target.id+": xRTML Message received from channel "+j.channel;b.Console.debug(k);b.Console.debug(j.message);d(j.message,j.target)}})}});var c=function(h){var i="Tag "+h.target.id+": "+h.type+" message";b.Console.debug(i);b.Console.debug(h.data);d(i,h.data)};b.TagManager.bind({tagCreate:function(h){var i=h.tag;b.Console.debug("Tag of type "+i.name+" created with id "+(i.id||i.internalId));b.Console.debug(i);i.bind({init:function(j){b.Console.debug("")},load:function(j){b.Console.debug("")},active:function(j){b.Console.debug("")},process:c,preProcess:c,postProcess:c})},tagDispose:function(h){var j=h.tag,i="Tag of type "+h.name+" with id "+(j.id||j.internalId)+" disposed.";b.Console.debug(i);d(i,h.tag)}});b.MessageBroker.bind({triggerRegister:function(h){var i="Tag "+h.trigger.tagId+" registered trigger: "+h.trigger.name;b.Console.debug(i);d(i,h.target)},triggerUnregister:function(h){var i="Tag "+h.trigger.tagId+" unregistered trigger: "+h.trigger.name;b.Console.debug(i);d(i,h.target)}});b.DomParser.bind({configLoad:function(h){b.Console.debug("DOM Parser: the following connections were read from DOM: ");b.Console.debug(h.config.connections);b.Console.debug("DOM Parser: the following storages were read from DOM: ");b.Console.debug(h.config.storages)},tagsLoad:function(h){b.Console.debug("DOM Parser: the following tags were read from DOM: ");b.Console.debug(h.tags)}})})(b.TraceMonitor=b.TraceMonitor||{})})(window.xRTML=window.xRTML||{});(function(d,c){var b=function(){d.isReady=true;d.fire({ready:{}})};(typeof loadOrtcFactory=="undefined")?d.Config.ortcLibrary(((document.location.protocol=="file:")?"http:":document.location.protocol)+"//dfdbz2tdq3k01.cloudfront.net/js/2.1.0/ortc.js",b):b();var a=function(){d.DomParser.read();if(d.isReady){d.isLoaded=true;d.fire({load:{}})}else{d.ready(function(){d.isLoaded=true;d.fire({load:{}})})}};d.domLoaded()?a():d.Event.bind(window,{load:a})})(window.xRTML=window.xRTML||{});(function(b,a){(function(d,f){var c=f;(function(k,h,i,j){var g=true;!function(l){l(c={})}(function(r){var q=typeof r!=="undefined"?r:{};q.exportSymbol=function(x,y){var A=x.split(".");var z=q;for(var w=0;w<A.length-1;w++){z=z[A[w]]}z[A[A.length-1]]=y};q.exportProperty=function(x,y,w){x[y]=w};q.version="2.1.0";q.exportSymbol("version",q.version);q.utils=new (function(){var I=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;var F={},H={};var E=/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents";F[E]=["keyup","keydown","keypress"];F.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var x in F){var G=F[x];if(G.length){for(var y=0,D=G.length;y<D;y++){H[G[y]]=x}}}var w={propertychange:true};var z=(function(){var L=3,J=h.createElement("div"),K=J.getElementsByTagName("i");while(J.innerHTML="<!--[if gt IE "+(++L)+"]><i></i><![endif]-->",K[0]){}return L>4?L:j}());var B=z===6,C=z===7;function A(J,K){if((q.utils.tagNameLower(J)!=="input")||!J.type){return false}if(K.toLowerCase()!="click"){return false}var L=J.type;return(L=="checkbox")||(L=="radio")}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(K,J){for(var L=0,M=K.length;L<M;L++){J(K[L])}},arrayIndexOf:function(J,L){if(typeof Array.prototype.indexOf=="function"){return Array.prototype.indexOf.call(J,L)}for(var K=0,M=J.length;K<M;K++){if(J[K]===L){return K}}return -1},arrayFirst:function(J,M,N){for(var K=0,L=J.length;K<L;K++){if(M.call(N,J[K])){return J[K]}}return null},arrayRemoveItem:function(J,L){var K=q.utils.arrayIndexOf(J,L);if(K>=0){J.splice(K,1)}},arrayGetDistinctValues:function(J){J=J||[];var M=[];for(var K=0,L=J.length;K<L;K++){if(q.utils.arrayIndexOf(M,J[K])<0){M.push(J[K])}}return M},arrayMap:function(J,M){J=J||[];var N=[];for(var K=0,L=J.length;K<L;K++){N.push(M(J[K]))}return N},arrayFilter:function(J,M){J=J||[];var N=[];for(var K=0,L=J.length;K<L;K++){if(M(J[K])){N.push(J[K])}}return N},arrayPushAll:function(J,M){if(M instanceof Array){J.push.apply(J,M)}else{for(var K=0,L=M.length;K<L;K++){J.push(M[K])}}return J},extend:function(L,K){if(K){for(var J in K){if(K.hasOwnProperty(J)){L[J]=K[J]}}}return L},emptyDomNode:function(J){while(J.firstChild){q.removeNode(J.firstChild)}},moveCleanedNodesToContainerElement:function(M){var N=q.utils.makeArray(M);var J=h.createElement("div");for(var K=0,L=N.length;K<L;K++){q.cleanNode(N[K]);J.appendChild(N[K])}return J},setDomNodeChildren:function(K,J){q.utils.emptyDomNode(K);if(J){for(var L=0,M=J.length;L<M;L++){K.appendChild(J[L])}}},replaceDomNodes:function(O,M){var N=O.nodeType?[O]:O;if(N.length>0){var K=N[0];var P=K.parentNode;for(var J=0,L=M.length;J<L;J++){P.insertBefore(M[J],K)}for(var J=0,L=N.length;J<L;J++){q.removeNode(N[J])}}},setOptionNodeSelectionState:function(K,J){if(i.userAgent.indexOf("MSIE 6")>=0){K.setAttribute("selected",J)}else{K.selected=J}},stringTrim:function(J){return(J||"").replace(I,"")},stringTokenize:function(N,J){var M=[];var O=(N||"").split(J);for(var K=0,L=O.length;K<L;K++){var P=q.utils.stringTrim(O[K]);if(P!==""){M.push(P)}}return M},stringStartsWith:function(K,J){K=K||"";if(J.length>K.length){return false}return K.substring(0,J.length)===J},buildEvalWithinScopeFunction:function(J,M){var K="return ("+J+")";for(var L=0;L<M;L++){K="with(sc["+L+"]) { "+K+" } "}return new Function("sc",K)},domNodeIsContainedBy:function(K,J){if(J.compareDocumentPosition){return(J.compareDocumentPosition(K)&16)==16}while(K!=null){if(K==J){return true}K=K.parentNode}return false},domNodeIsAttachedToDocument:function(J){return q.utils.domNodeIsContainedBy(J,J.ownerDocument)},tagNameLower:function(J){return J&&J.tagName&&J.tagName.toLowerCase()},registerEventHandler:function(J,K,L){var M=z&&w[K];if(!M&&typeof jQuery!="undefined"){if(A(J,K)){var N=L;L=function(O,P){var Q=this.checked;if(P){this.checked=P.checkedStateBeforeEvent!==true}N.call(this,O);this.checked=Q}}jQuery(J)["bind"](K,L)}else{if(!M&&typeof J.addEventListener=="function"){J.addEventListener(K,L,false)}else{if(typeof J.attachEvent!="undefined"){J.attachEvent("on"+K,function(O){L.call(J,O)})}else{throw new Error("Browser doesn't support addEventListener or attachEvent")}}}},triggerEvent:function(J,N){if(!(J&&J.nodeType)){throw new Error("element must be a DOM node when calling triggerEvent")}if(typeof jQuery!="undefined"){var M=[];if(A(J,N)){M.push({checkedStateBeforeEvent:J.checked})}jQuery(J)["trigger"](N,M)}else{if(typeof h.createEvent=="function"){if(typeof J.dispatchEvent=="function"){var L=H[N]||"HTMLEvents";var K=h.createEvent(L);K.initEvent(N,true,true,k,0,0,0,0,0,false,false,false,false,0,J);J.dispatchEvent(K)}else{throw new Error("The supplied element doesn't support dispatchEvent")}}else{if(typeof J.fireEvent!="undefined"){if(A(J,N)){J.checked=J.checked!==true}J.fireEvent("on"+N)}else{throw new Error("Browser doesn't support triggering events")}}}},unwrapObservable:function(J){return q.isObservable(J)?J():J},toggleDomNodeCssClass:function(O,J,P){var K=(O.className||"").split(/\s+/);var L=q.utils.arrayIndexOf(K,J)>=0;if(P&&!L){O.className+=(K[0]?" ":"")+J}else{if(L&&!P){var N="";for(var M=0;M<K.length;M++){if(K[M]!=J){N+=K[M]+" "}}O.className=q.utils.stringTrim(N)}}},setTextContent:function(J,K){var L=q.utils.unwrapObservable(K);if((L===null)||(L===j)){L=""}"innerText" in J?J.innerText=L:J.textContent=L;if(z>=9){J.style.display=J.style.display}},ensureSelectElementIsRenderedCorrectly:function(K){if(z>=9){var J=K.style.width;K.style.width=0;K.style.width=J}},range:function(L,K){L=q.utils.unwrapObservable(L);K=q.utils.unwrapObservable(K);var M=[];for(var J=L;J<=K;J++){M.push(J)}return M},makeArray:function(J){var M=[];for(var K=0,L=J.length;K<L;K++){M.push(J[K])}return M},isIe6:B,isIe7:C,ieVersion:z,getFormFields:function(L,J){var K=q.utils.makeArray(L.getElementsByTagName("input")).concat(q.utils.makeArray(L.getElementsByTagName("textarea")));var N=(typeof J=="string")?function(P){return P.name===J}:function(P){return J.test(P.name)};var O=[];for(var M=K.length-1;M>=0;M--){if(N(K[M])){O.push(K[M])}}return O},parseJson:function(J){if(typeof J=="string"){J=q.utils.stringTrim(J);if(J){if(k.JSON&&k.JSON.parse){return k.JSON.parse(J)}return(new Function("return "+J))()}}return null},stringifyJson:function(J,K,L){if((typeof JSON=="undefined")||(typeof JSON.stringify=="undefined")){throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return JSON.stringify(q.utils.unwrapObservable(J),K,L)},postJson:function(V,J,R){R=R||{};var T=R.params||{};var N=R.includeFields||this.fieldsIncludedWithJsonPost;var U=V;if((typeof V=="object")&&(q.utils.tagNameLower(V)==="form")){var S=V;U=S.action;for(var M=N.length-1;M>=0;M--){var K=q.utils.getFormFields(S,N[M]);for(var P=K.length-1;P>=0;P--){T[K[P].name]=K[P].value}}}J=q.utils.unwrapObservable(J);var L=h.createElement("form");L.style.display="none";L.action=U;L.method="post";for(var Q in J){var O=h.createElement("input");O.name=Q;O.value=q.utils.stringifyJson(q.utils.unwrapObservable(J[Q]));L.appendChild(O)}for(var Q in T){var O=h.createElement("input");O.name=Q;O.value=T[Q];L.appendChild(O)}h.body.appendChild(L);R.submitter?R.submitter(L):L.submit();setTimeout(function(){L.parentNode.removeChild(L)},0)}}})();q.exportSymbol("utils",q.utils);q.exportSymbol("utils.arrayForEach",q.utils.arrayForEach);q.exportSymbol("utils.arrayFirst",q.utils.arrayFirst);q.exportSymbol("utils.arrayFilter",q.utils.arrayFilter);q.exportSymbol("utils.arrayGetDistinctValues",q.utils.arrayGetDistinctValues);q.exportSymbol("utils.arrayIndexOf",q.utils.arrayIndexOf);q.exportSymbol("utils.arrayMap",q.utils.arrayMap);q.exportSymbol("utils.arrayPushAll",q.utils.arrayPushAll);q.exportSymbol("utils.arrayRemoveItem",q.utils.arrayRemoveItem);q.exportSymbol("utils.extend",q.utils.extend);q.exportSymbol("utils.fieldsIncludedWithJsonPost",q.utils.fieldsIncludedWithJsonPost);q.exportSymbol("utils.getFormFields",q.utils.getFormFields);q.exportSymbol("utils.postJson",q.utils.postJson);q.exportSymbol("utils.parseJson",q.utils.parseJson);q.exportSymbol("utils.registerEventHandler",q.utils.registerEventHandler);q.exportSymbol("utils.stringifyJson",q.utils.stringifyJson);q.exportSymbol("utils.range",q.utils.range);q.exportSymbol("utils.toggleDomNodeCssClass",q.utils.toggleDomNodeCssClass);q.exportSymbol("utils.triggerEvent",q.utils.triggerEvent);q.exportSymbol("utils.unwrapObservable",q.utils.unwrapObservable);if(!Function.prototype.bind){Function.prototype.bind=function(x){var y=this,w=Array.prototype.slice.call(arguments),x=w.shift();return function(){return y.apply(x,w.concat(Array.prototype.slice.call(arguments)))}}}q.utils.domData=new (function(){var y=0;var x="__ko__"+(new Date).getTime();var w={};return{get:function(B,A){var z=q.utils.domData.getAll(B,false);return z===j?j:z[A]},set:function(B,A,C){if(C===j){if(q.utils.domData.getAll(B,false)===j){return}}var z=q.utils.domData.getAll(B,true);z[A]=C},getAll:function(C,z){var A=C[x];var B=A&&(A!=="null");if(!B){if(!z){return j}A=C[x]="ko"+y++;w[A]={}}return w[A]},clear:function(A){var z=A[x];if(z){delete w[z];A[x]=null}}}})();q.exportSymbol("utils.domData",q.utils.domData);q.exportSymbol("utils.domData.clear",q.utils.domData.clear);q.utils.domNodeDisposal=new (function(){var B="__ko_domNodeDisposal__"+(new Date).getTime();var w={1:true,8:true,9:true};var x={1:true,9:true};function C(F,E){var D=q.utils.domData.get(F,B);if((D===j)&&E){D=[];q.utils.domData.set(F,B,D)}return D}function A(D){q.utils.domData.set(D,B,j)}function z(F){var D=C(F,false);if(D){D=D.slice(0);for(var E=0;E<D.length;E++){D[E](F)}}q.utils.domData.clear(F);if((typeof jQuery=="function")&&(typeof jQuery.cleanData=="function")){jQuery.cleanData([F])}if(x[F.nodeType]){y(F)}}function y(F){var D,E=F.firstChild;while(D=E){E=D.nextSibling;if(D.nodeType===8){z(D)}}}return{addDisposeCallback:function(E,D){if(typeof D!="function"){throw new Error("Callback must be a function")}C(E,true).push(D)},removeDisposeCallback:function(F,D){var E=C(F,false);if(E){q.utils.arrayRemoveItem(E,D);if(E.length==0){A(F)}}},cleanNode:function(G){if(w[G.nodeType]){z(G);if(x[G.nodeType]){var D=[];q.utils.arrayPushAll(D,G.getElementsByTagName("*"));for(var E=0,F=D.length;E<F;E++){z(D[E])}}}},removeNode:function(D){q.cleanNode(D);if(D.parentNode){D.parentNode.removeChild(D)}}}})();q.cleanNode=q.utils.domNodeDisposal.cleanNode;q.removeNode=q.utils.domNodeDisposal.removeNode;q.exportSymbol("cleanNode",q.cleanNode);q.exportSymbol("removeNode",q.removeNode);q.exportSymbol("utils.domNodeDisposal",q.utils.domNodeDisposal);q.exportSymbol("utils.domNodeDisposal.addDisposeCallback",q.utils.domNodeDisposal.addDisposeCallback);q.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",q.utils.domNodeDisposal.removeDisposeCallback);(function(){var x=/^(\s*)<!--(.*?)-->/;function y(A){var C=q.utils.stringTrim(A).toLowerCase(),z=h.createElement("div");var D=C.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!C.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!C.indexOf("<td")||!C.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];var B="ignored<div>"+D[1]+A+D[2]+"</div>";if(typeof k.innerShiv=="function"){z.appendChild(k.innerShiv(B))}else{z.innerHTML=B}while(D[0]--){z=z.lastChild}return q.utils.makeArray(z.lastChild.childNodes)}function w(B){var A=jQuery.clean([B]);if(A&&A[0]){var z=A[0];while(z.parentNode&&z.parentNode.nodeType!==11){z=z.parentNode}if(z.parentNode){z.parentNode.removeChild(z)}}return A}q.utils.parseHtmlFragment=function(z){return typeof jQuery!="undefined"?w(z):y(z)};q.utils.setHtml=function(B,z){q.utils.emptyDomNode(B);if((z!==null)&&(z!==j)){if(typeof z!="string"){z=z.toString()}if(typeof jQuery!="undefined"){jQuery(B)["html"](z)}else{var C=q.utils.parseHtmlFragment(z);for(var A=0;A<C.length;A++){B.appendChild(C[A])}}}}})();q.exportSymbol("utils.parseHtmlFragment",q.utils.parseHtmlFragment);q.exportSymbol("utils.setHtml",q.utils.setHtml);q.memoization=(function(){var y={};function z(){return(((1+Math.random())*4294967296)|0).toString(16).substring(1)}function x(){return z()+z()}function w(F,A){if(!F){return}if(F.nodeType==8){var E=q.memoization.parseMemoText(F.nodeValue);if(E!=null){A.push({domNode:F,memoId:E})}}else{if(F.nodeType==1){for(var C=0,B=F.childNodes,D=B.length;C<D;C++){w(B[C],A)}}}}return{memoize:function(A){if(typeof A!="function"){throw new Error("You can only pass a function to ko.memoization.memoize()")}var B=x();y[B]=A;return"<!--[ko_memo:"+B+"]-->"},unmemoize:function(C,B){var A=y[C];if(A===j){throw new Error("Couldn't find any memo with ID "+C+". Perhaps it's already been unmemoized.")}try{A.apply(null,B||[]);return true}finally{delete y[C]}},unmemoizeDomNodeAndDescendants:function(B,C){var F=[];w(B,F);for(var D=0,E=F.length;D<E;D++){var G=F[D].domNode;var A=[G];if(C){q.utils.arrayPushAll(A,C)}q.memoization.unmemoize(F[D].memoId,A);G.nodeValue="";if(G.parentNode){G.parentNode.removeChild(G)}}},parseMemoText:function(B){var A=B.match(/^\[ko_memo\:(.*?)\]$/);return A?A[1]:null}}})();q.exportSymbol("memoization",q.memoization);q.exportSymbol("memoization.memoize",q.memoization.memoize);q.exportSymbol("memoization.unmemoize",q.memoization.unmemoize);q.exportSymbol("memoization.parseMemoText",q.memoization.parseMemoText);q.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",q.memoization.unmemoizeDomNodeAndDescendants);q.extenders={throttle:function(w,x){w.throttleEvaluation=x;var y=null;return q.dependentObservable({read:w,write:function(z){clearTimeout(y);y=setTimeout(function(){w(z)},x)}})},notify:function(x,w){x.equalityComparer=w=="always"?function(){return false}:q.observable.fn["equalityComparer"];return x}};function l(y){var z=this;if(y){for(var x in y){var w=q.extenders[x];if(typeof w=="function"){z=w(z,y[x])}}}return z}q.exportSymbol("extenders",q.extenders);q.subscription=function(y,w,x){this.target=y;this.callback=w;this.disposeCallback=x;q.exportProperty(this,"dispose",this.dispose)};q.subscription.prototype.dispose=function(){this.isDisposed=true;this.disposeCallback()};q.subscribable=function(){this._subscriptions={};q.utils.extend(this,q.subscribable.fn);q.exportProperty(this,"subscribe",this.subscribe);q.exportProperty(this,"extend",this.extend);q.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var n="change";q.subscribable.fn={subscribe:function(x,y,z){z=z||n;var w=y?x.bind(y):x;var A=new q.subscription(this,w,function(){q.utils.arrayRemoveItem(this._subscriptions[z],A)}.bind(this));if(!this._subscriptions[z]){this._subscriptions[z]=[]}this._subscriptions[z].push(A);return A},notifySubscribers:function(x,w){w=w||n;if(this._subscriptions[w]){q.utils.arrayForEach(this._subscriptions[w].slice(0),function(y){if(y&&(y.isDisposed!==true)){y.callback(x)}})}},getSubscriptionsCount:function(){var x=0;for(var w in this._subscriptions){if(this._subscriptions.hasOwnProperty(w)){x+=this._subscriptions[w].length}}return x},extend:l};q.isSubscribable=function(w){return typeof w.subscribe=="function"&&typeof w.notifySubscribers=="function"};q.exportSymbol("subscribable",q.subscribable);q.exportSymbol("isSubscribable",q.isSubscribable);q.dependencyDetection=(function(){var w=[];return{begin:function(x){w.push({callback:x,distinctDependencies:[]})},end:function(){w.pop()},registerDependency:function(x){if(!q.isSubscribable(x)){throw new Error("Only subscribable things can act as dependencies")}if(w.length>0){var y=w[w.length-1];if(q.utils.arrayIndexOf(y.distinctDependencies,x)>=0){return}y.distinctDependencies.push(x);y.callback(x)}}}})();var s={"undefined":true,"boolean":true,number:true,string:true};q.observable=function(x){var w=x;function y(){if(arguments.length>0){if((!y.equalityComparer)||!y.equalityComparer(w,arguments[0])){y.valueWillMutate();w=arguments[0];if(g){y._latestValue=w}y.valueHasMutated()}return this}else{q.dependencyDetection.registerDependency(y);return w}}if(g){y._latestValue=w}q.subscribable.call(y);y.valueHasMutated=function(){y.notifySubscribers(w)};y.valueWillMutate=function(){y.notifySubscribers(w,"beforeChange")};q.utils.extend(y,q.observable.fn);q.exportProperty(y,"valueHasMutated",y.valueHasMutated);q.exportProperty(y,"valueWillMutate",y.valueWillMutate);return y};q.observable.fn={equalityComparer:function v(w,x){var y=(w===null)||(typeof(w) in s);return y?(w===x):false}};var u=q.observable.protoProperty="__ko_proto__";q.observable.fn[u]=q.observable;q.hasPrototype=function(w,x){if((w===null)||(w===j)||(w[u]===j)){return false}if(w[u]===x){return true}return q.hasPrototype(w[u],x)};q.isObservable=function(w){return q.hasPrototype(w,q.observable)};q.isWriteableObservable=function(w){if((typeof w=="function")&&w[u]===q.observable){return true}if((typeof w=="function")&&(w[u]===q.dependentObservable)&&(w.hasWriteFunction)){return true}return false};q.exportSymbol("observable",q.observable);q.exportSymbol("isObservable",q.isObservable);q.exportSymbol("isWriteableObservable",q.isWriteableObservable);q.observableArray=function(w){if(arguments.length==0){w=[]}if((w!==null)&&(w!==j)&&!("length" in w)){throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}var x=q.observable(w);q.utils.extend(x,q.observableArray.fn);return x};q.observableArray.fn={remove:function(B){var z=this();var y=[];var x=typeof B=="function"?B:function(C){return C===B};for(var w=0;w<z.length;w++){var A=z[w];if(x(A)){if(y.length===0){this.valueWillMutate()}y.push(A);z.splice(w,1);w--}}if(y.length){this.valueHasMutated()}return y},removeAll:function(x){if(x===j){var y=this();var w=y.slice(0);this.valueWillMutate();y.splice(0,y.length);this.valueHasMutated();return w}if(!x){return[]}return this["remove"](function(z){return q.utils.arrayIndexOf(x,z)>=0})},destroy:function(A){var y=this();var x=typeof A=="function"?A:function(B){return B===A};this.valueWillMutate();for(var w=y.length-1;w>=0;w--){var z=y[w];if(x(z)){y[w]["_destroy"]=true}}this.valueHasMutated()},destroyAll:function(w){if(w===j){return this["destroy"](function(){return true})}if(!w){return[]}return this["destroy"](function(x){return q.utils.arrayIndexOf(w,x)>=0})},indexOf:function(w){var x=this();return q.utils.arrayIndexOf(x,w)},replace:function(y,x){var w=this["indexOf"](y);if(w>=0){this.valueWillMutate();this()[w]=x;this.valueHasMutated()}}};q.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(w){q.observableArray.fn[w]=function(){var y=this();this.valueWillMutate();var x=y[w].apply(y,arguments);this.valueHasMutated();return x}});q.utils.arrayForEach(["slice"],function(w){q.observableArray.fn[w]=function(){var x=this();return x[w].apply(x,arguments)}});q.exportSymbol("observableArray",q.observableArray);q.dependentObservable=function(I,J,M){var y,w=false,x=false,N=I;if(N&&typeof N=="object"){M=N;N=M.read}else{M=M||{};if(!N){N=M.read}}if(typeof N!="function"){throw new Error("Pass a function that returns the value of the ko.computed")}var P=M.write;if(!J){J=M.owner}var z=[];function C(){q.utils.arrayForEach(z,function(Q){Q.dispose()});z=[]}var B=C;var E=(typeof M.disposeWhenNodeIsRemoved=="object")?M.disposeWhenNodeIsRemoved:null;var D=M.disposeWhen||function(){return false};if(E){B=function(){q.utils.domNodeDisposal.removeDisposeCallback(E,arguments.callee);C()};q.utils.domNodeDisposal.addDisposeCallback(E,B);var K=D;D=function(){return !q.utils.domNodeIsAttachedToDocument(E)||K()}}var H=null;function G(){var Q=A.throttleEvaluation;if(Q&&Q>=0){clearTimeout(H);H=setTimeout(F,Q)}else{F()}}function F(){if(x){return}if(w&&D()){B();return}x=true;try{var Q=q.utils.arrayMap(z,function(T){return T.target});q.dependencyDetection.begin(function(U){var T;if((T=q.utils.arrayIndexOf(Q,U))>=0){Q[T]=j}else{z.push(U.subscribe(G))}});var S=N.call(J);for(var R=Q.length-1;R>=0;R--){if(Q[R]){z.splice(R,1)[0].dispose()}}w=true;A.notifySubscribers(y,"beforeChange");y=S;if(g){A._latestValue=y}}finally{q.dependencyDetection.end()}A.notifySubscribers(y);x=false}function A(){if(arguments.length>0){O.apply(A,arguments)}else{return L()}}function O(){if(typeof P==="function"){P.apply(J,arguments)}else{throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}}function L(){if(!w){F()}q.dependencyDetection.registerDependency(A);return y}A.getDependenciesCount=function(){return z.length};A.hasWriteFunction=typeof M.write==="function";A.dispose=function(){B()};q.subscribable.call(A);q.utils.extend(A,q.dependentObservable.fn);if(M.deferEvaluation!==true){F()}q.exportProperty(A,"dispose",A.dispose);q.exportProperty(A,"getDependenciesCount",A.getDependenciesCount);return A};q.isComputed=function(w){return q.hasPrototype(w,q.dependentObservable)};var t=q.observable.protoProperty;q.dependentObservable[t]=q.observable;q.dependentObservable.fn={};q.dependentObservable.fn[t]=q.dependentObservable;q.exportSymbol("dependentObservable",q.dependentObservable);q.exportSymbol("computed",q.dependentObservable);q.exportSymbol("isComputed",q.isComputed);(function(){var x=10;q.toJS=function(A){if(arguments.length==0){throw new Error("When calling ko.toJS, pass the object you want to convert.")}return w(A,function(C){for(var B=0;q.isObservable(C)&&(B<x);B++){C=C()}return C})};q.toJSON=function(C,B,D){var A=q.toJS(C);return q.utils.stringifyJson(A,B,D)};function w(D,B,E){E=E||new y();D=B(D);var A=(typeof D=="object")&&(D!==null)&&(D!==j)&&(!(D instanceof Date));if(!A){return D}var C=D instanceof Array?[]:{};E.save(D,C);z(D,function(F){var H=B(D[F]);switch(typeof H){case"boolean":case"number":case"string":case"function":C[F]=H;break;case"object":case"undefined":var G=E.get(H);C[F]=(G!==j)?G:w(H,B,E);break}});return C}function z(C,D){if(C instanceof Array){for(var A=0;A<C.length;A++){D(A)}if(typeof C.toJSON=="function"){D("toJSON")}}else{for(var B in C){D(B)}}}function y(){var A=[];var B=[];this.save=function(D,E){var C=q.utils.arrayIndexOf(A,D);if(C>=0){B[C]=E}else{A.push(D);B.push(E)}};this.get=function(D){var C=q.utils.arrayIndexOf(A,D);return(C>=0)?B[C]:j}}})();q.exportSymbol("toJS",q.toJS);q.exportSymbol("toJSON",q.toJSON);(function(){var w="__ko__hasDomDataOptionValue__";q.selectExtensions={readValue:function(x){switch(q.utils.tagNameLower(x)){case"option":if(x[w]===true){return q.utils.domData.get(x,q.bindingHandlers.options.optionValueDomDataKey)}return x.getAttribute("value");case"select":return x.selectedIndex>=0?q.selectExtensions.readValue(x.options[x.selectedIndex]):j;default:return x.value}},writeValue:function(x,z){switch(q.utils.tagNameLower(x)){case"option":switch(typeof z){case"string":q.utils.domData.set(x,q.bindingHandlers.options.optionValueDomDataKey,j);if(w in x){delete x[w]}x.value=z;break;default:q.utils.domData.set(x,q.bindingHandlers.options.optionValueDomDataKey,z);x[w]=true;x.value=typeof z==="number"?z:"";break}break;case"select":for(var y=x.options.length-1;y>=0;y--){if(q.selectExtensions.readValue(x.options[y])==z){x.selectedIndex=y;break}}break;default:if((z===null)||(z===j)){z=""}x.value=z;break}}}})();q.exportSymbol("selectExtensions",q.selectExtensions);q.exportSymbol("selectExtensions.readValue",q.selectExtensions.readValue);q.exportSymbol("selectExtensions.writeValue",q.selectExtensions.writeValue);q.jsonExpressionRewriting=(function(){var A=/\@ko_token_(\d+)\@/g;var y=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i;var z=["true","false"];function B(D,E){var C=null;while(D!=C){C=D;D=D.replace(A,function(F,G){return E[G]})}return D}function x(C){if(q.utils.arrayIndexOf(z,q.utils.stringTrim(C).toLowerCase())>=0){return false}return C.match(y)!==null}function w(C){var D=q.utils.stringTrim(C);switch(D.length&&D.charAt(0)){case"'":case'"':return C;default:return"'"+D+"'"}}return{bindingRewriteValidators:[],parseObjectLiteral:function(I){var N=q.utils.stringTrim(I);if(N.length<3){return[]}if(N.charAt(0)==="{"){N=N.substring(1,N.length-1)}var R=[];var S=null,Q;for(var K=0;K<N.length;K++){var C=N.charAt(K);if(S===null){switch(C){case'"':case"'":case"/":S=K;Q=C;break}}else{if((C==Q)&&(N.charAt(K-1)!=="\\")){var O=N.substring(S,K+1);R.push(O);var L="@ko_token_"+(R.length-1)+"@";N=N.substring(0,S)+L+N.substring(K+1);K-=(O.length-L.length);S=null}}}S=null;Q=null;var P=0,T=null;for(var K=0;K<N.length;K++){var C=N.charAt(K);if(S===null){switch(C){case"{":S=K;T=C;Q="}";break;case"(":S=K;T=C;Q=")";break;case"[":S=K;T=C;Q="]";break}}if(C===T){P++}else{if(C===Q){P--;if(P===0){var O=N.substring(S,K+1);R.push(O);var L="@ko_token_"+(R.length-1)+"@";N=N.substring(0,S)+L+N.substring(K+1);K-=(O.length-L.length);S=null}}}}var M=[];var H=N.split(",");for(var E=0,F=H.length;E<F;E++){var J=H[E];var D=J.indexOf(":");if((D>0)&&(D<J.length-1)){var G=J.substring(0,D);var U=J.substring(D+1);M.push({key:B(G,R),value:B(U,R)})}else{M.push({unknown:B(J,R)})}}return M},insertPropertyAccessorsIntoJson:function(H){var F=typeof H==="string"?q.jsonExpressionRewriting.parseObjectLiteral(H):H;var K=[],I=[];var G;for(var E=0;G=F[E];E++){if(K.length>0){K.push(",")}if(G.key){var J=w(G.key),L=G.value;K.push(J);K.push(":");K.push(L);if(x(q.utils.stringTrim(L))){if(I.length>0){I.push(", ")}I.push(J+" : function(__ko_value) { "+L+" = __ko_value; }")}}else{if(G.unknown){K.push(G.unknown)}}}var D=K.join("");if(I.length>0){var C=I.join("");D=D+", '_ko_property_writers' : { "+C+" } "}return D},keyValueArrayContainsKey:function(E,D){for(var C=0;C<E.length;C++){if(q.utils.stringTrim(E[C]["key"])==D){return true}}return false},writeValueToProperty:function(F,C,E,H,D){if(!F||!q.isWriteableObservable(F)){var G=C()["_ko_property_writers"];if(G&&G[E]){G[E](H)}}else{if(!D||F()!==H){F(H)}}}}})();q.exportSymbol("jsonExpressionRewriting",q.jsonExpressionRewriting);q.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",q.jsonExpressionRewriting.bindingRewriteValidators);q.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",q.jsonExpressionRewriting.parseObjectLiteral);q.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",q.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){var w=h.createComment("test").text==="<!--test-->";var E=w?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/;var x=w?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/;var B={ul:true,ol:true};function D(F){return(F.nodeType==8)&&(w?F.text:F.nodeValue).match(E)}function C(F){return(F.nodeType==8)&&(w?F.text:F.nodeValue).match(x)}function A(J,F){var H=J;var I=1;var G=[];while(H=H.nextSibling){if(C(H)){I--;if(I===0){return G}}G.push(H);if(D(H)){I++}}if(!F){throw new Error("Cannot find closing comment tag to match: "+J.nodeValue)}return null}function y(H,F){var G=A(H,F);if(G){if(G.length>0){return G[G.length-1].nextSibling}return H.nextSibling}else{return null}}function z(I){var G=I.firstChild,F=null;if(G){do{if(F){F.push(G)}else{if(D(G)){var H=y(G,true);if(H){G=H}else{F=[G]}}else{if(C(G)){F=[G]}}}}while(G=G.nextSibling)}return F}q.virtualElements={allowedBindings:{},childNodes:function(F){return D(F)?A(F):F.childNodes},emptyNode:function(H){if(!D(H)){q.utils.emptyDomNode(H)}else{var I=q.virtualElements.childNodes(H);for(var F=0,G=I.length;F<G;F++){q.removeNode(I[F])}}},setDomNodeChildren:function(J,F){if(!D(J)){q.utils.setDomNodeChildren(J,F)}else{q.virtualElements.emptyNode(J);var G=J.nextSibling;for(var H=0,I=F.length;H<I;H++){G.parentNode.insertBefore(F[H],G)}}},prepend:function(F,G){if(!D(F)){if(F.firstChild){F.insertBefore(G,F.firstChild)}else{F.appendChild(G)}}else{F.parentNode.insertBefore(G,F.nextSibling)}},insertAfter:function(F,H,G){if(!D(F)){if(G.nextSibling){F.insertBefore(H,G.nextSibling)}else{F.appendChild(H)}}else{F.parentNode.insertBefore(H,G.nextSibling)}},firstChild:function(F){if(!D(F)){return F.firstChild}if(!F.nextSibling||C(F.nextSibling)){return null}return F.nextSibling},nextSibling:function(F){if(D(F)){F=y(F)}if(F.nextSibling&&C(F.nextSibling)){return null}return F.nextSibling},virtualNodeBindingValue:function(F){var G=D(F);return G?G[1]:null},normaliseVirtualElementDomStructure:function(G){if(!B[q.utils.tagNameLower(G)]){return}var F=G.firstChild;if(F){do{if(F.nodeType===1){var J=z(F);if(J){var I=F.nextSibling;for(var H=0;H<J.length;H++){if(I){G.insertBefore(J[H],I)}else{G.appendChild(J[H])}}}}}while(F=F.nextSibling)}}}})();q.exportSymbol("virtualElements",q.virtualElements);q.exportSymbol("virtualElements.allowedBindings",q.virtualElements.allowedBindings);q.exportSymbol("virtualElements.emptyNode",q.virtualElements.emptyNode);q.exportSymbol("virtualElements.insertAfter",q.virtualElements.insertAfter);q.exportSymbol("virtualElements.prepend",q.virtualElements.prepend);q.exportSymbol("virtualElements.setDomNodeChildren",q.virtualElements.setDomNodeChildren);(function(){var y="data-bind";q.bindingProvider=function(){this.bindingCache={}};q.utils.extend(q.bindingProvider.prototype,{nodeHasBindings:function(z){switch(z.nodeType){case 1:return z.getAttribute(y)!=null;case 8:return q.virtualElements.virtualNodeBindingValue(z)!=null;default:return false}},getBindings:function(B,z){var A=this["getBindingsString"](B,z);return A?this["parseBindingsString"](A,z):null},getBindingsString:function(A,z){switch(A.nodeType){case 1:return A.getAttribute(y);case 8:return q.virtualElements.virtualNodeBindingValue(A);default:return null}},parseBindingsString:function(B,z){try{var E=z["$data"],D=(typeof E=="object"&&E!=null)?[E,z]:[z],A=x(B,D.length,this.bindingCache);return A(D)}catch(C){throw new Error("Unable to parse bindings.\nMessage: "+C+";\nBindings value: "+B)}}});q.bindingProvider.instance=new q.bindingProvider();function x(z,C,A){var B=C+"_"+z;return A[B]||(A[B]=w(z,C))}function w(z,B){var A=" { "+q.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(z)+" } ";return q.utils.buildEvalWithinScopeFunction(A,B)}})();q.exportSymbol("bindingProvider",q.bindingProvider);(function(){q.bindingHandlers={};q.bindingContext=function(B,C){if(C){q.utils.extend(this,C);this["$parentContext"]=C;this["$parent"]=C["$data"];this["$parents"]=(C["$parents"]||[]).slice(0);this["$parents"].unshift(this["$parent"])}else{this["$parents"]=[];this["$root"]=B}this["$data"]=B};q.bindingContext.prototype.createChildContext=function(B){return new q.bindingContext(B,this)};q.bindingContext.prototype.extend=function(C){var B=q.utils.extend(new q.bindingContext(),this);return q.utils.extend(B,C)};function A(B){var C=q.virtualElements.allowedBindings[B];if(!C){throw new Error("The binding '"+B+"' cannot be used with virtual elements")}}function w(F,D,B){var C,E=q.virtualElements.firstChild(D);while(C=E){E=q.virtualElements.nextSibling(C);x(F,C,B)}}function x(G,D,B){var F=true;var C=(D.nodeType===1);if(C){q.virtualElements.normaliseVirtualElementDomStructure(D)}var E=(C&&B)||q.bindingProvider.instance["nodeHasBindings"](D);if(E){F=y(D,null,G,B).shouldBindDescendants}if(F){w(G,D,!C)}}function y(G,D,J,B){var E=0;var H;function F(K){return function(){return H[K]}}function I(){return H}var C;q.dependentObservable(function(){var L=J&&(J instanceof q.bindingContext)?J:new q.bindingContext(q.utils.unwrapObservable(J));var R=L["$data"];if(B){q.storedBindingContextForNode(G,L)}var N=(typeof D=="function")?D():D;H=N||q.bindingProvider.instance["getBindings"](G,L);if(H){if(E===0){E=1;for(var M in H){var K=q.bindingHandlers[M];if(K&&G.nodeType===8){A(M)}if(K&&typeof K.init=="function"){var O=K.init;var Q=O(G,F(M),I,R,L);if(Q&&Q.controlsDescendantBindings){if(C!==j){throw new Error("Multiple bindings ("+C+" and "+M+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}C=M}}}E=2}if(E===2){for(var M in H){var K=q.bindingHandlers[M];if(K&&typeof K.update=="function"){var P=K.update;P(G,F(M),I,R,L)}}}}},null,{disposeWhenNodeIsRemoved:G});return{shouldBindDescendants:C===j}}var z="__ko_bindingContext__";q.storedBindingContextForNode=function(C,B){if(arguments.length==2){q.utils.domData.set(C,z,B)}else{return q.utils.domData.get(C,z)}};q.applyBindingsToNode=function(C,B,D){if(C.nodeType===1){q.virtualElements.normaliseVirtualElementDomStructure(C)}return y(C,B,D,true)};q.applyBindingsToDescendants=function(C,B){if(B.nodeType===1||B.nodeType===8){w(C,B,true)}};q.applyBindings=function(C,B){if(B&&(B.nodeType!==1)&&(B.nodeType!==8)){throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}B=B||k.document.body;x(C,B,true)};q.contextFor=function(C){switch(C.nodeType){case 1:case 8:var B=q.storedBindingContextForNode(C);if(B){return B}if(C.parentNode){return q.contextFor(C.parentNode)}break}return j};q.dataFor=function(C){var B=q.contextFor(C);return B?B["$data"]:j};q.exportSymbol("bindingHandlers",q.bindingHandlers);q.exportSymbol("applyBindings",q.applyBindings);q.exportSymbol("applyBindingsToDescendants",q.applyBindingsToDescendants);q.exportSymbol("applyBindingsToNode",q.applyBindingsToNode);q.exportSymbol("contextFor",q.contextFor);q.exportSymbol("dataFor",q.dataFor)})();var p=["click"];q.utils.arrayForEach(p,function(w){q.bindingHandlers[w]={init:function(y,A,x,B){var z=function(){var C={};C[w]=A();return C};return q.bindingHandlers.event["init"].call(this,y,z,x,B)}}});q.bindingHandlers.event={init:function(x,A,w,B){var z=A()||{};for(var y in z){(function(){var C=y;if(typeof C=="string"){q.utils.registerEventHandler(x,C,function(G){var I;var H=A()[C];if(!H){return}var D=w();try{var E=q.utils.makeArray(arguments);E.unshift(B);I=H.apply(B,E)}finally{if(I!==true){if(G.preventDefault){G.preventDefault()}else{G.returnValue=false}}}var F=D[C+"Bubble"]!==false;if(!F){G.cancelBubble=true;if(G.stopPropagation){G.stopPropagation()}}})}})()}}};q.bindingHandlers.submit={init:function(x,y,w,z){if(typeof y()!="function"){throw new Error("The value for a submit binding must be a function")}q.utils.registerEventHandler(x,"submit",function(A){var B;var C=y();try{B=C.call(z,x)}finally{if(B!==true){if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}}}})}};q.bindingHandlers.visible={update:function(w,z){var y=q.utils.unwrapObservable(z());var x=!(w.style.display=="none");if(y&&!x){w.style.display=""}else{if((!y)&&x){w.style.display="none"}}}};q.bindingHandlers.enable={update:function(w,y){var x=q.utils.unwrapObservable(y());if(x&&w.disabled){w.removeAttribute("disabled")}else{if((!x)&&(!w.disabled)){w.disabled=true}}}};q.bindingHandlers.disable={update:function(w,x){q.bindingHandlers.enable["update"](w,function(){return !q.utils.unwrapObservable(x())})}};function o(w,x,y){if(y){if(x!==q.selectExtensions.readValue(w)){q.selectExtensions.writeValue(w,x)}}if(x!==q.selectExtensions.readValue(w)){q.utils.triggerEvent(w,"change")}}q.bindingHandlers.value={init:function(x,C,w){var y=["change"];var B=w()["valueUpdate"];if(B){if(typeof B=="string"){B=[B]}q.utils.arrayPushAll(y,B);y=q.utils.arrayGetDistinctValues(y)}var D=function(){var F=C();var E=q.selectExtensions.readValue(x);q.jsonExpressionRewriting.writeValueToProperty(F,w,"value",E,true)};var z=q.utils.ieVersion&&x.tagName.toLowerCase()=="input"&&x.type=="text"&&x.autocomplete!="off"&&(!x.form||x.form.autocomplete!="off");if(z&&q.utils.arrayIndexOf(y,"propertychange")==-1){var A=false;q.utils.registerEventHandler(x,"propertychange",function(){A=true});q.utils.registerEventHandler(x,"blur",function(){if(A){A=false;D()}})}q.utils.arrayForEach(y,function(E){var F=D;if(q.utils.stringStartsWith(E,"after")){F=function(){setTimeout(D,0)};E=E.substring("after".length)}q.utils.registerEventHandler(x,E,F)})},update:function(y,B){var D=q.utils.tagNameLower(y)==="select";var A=q.utils.unwrapObservable(B());var z=q.selectExtensions.readValue(y);var C=(A!=z);if((A===0)&&(z!==0)&&(z!=="0")){C=true}if(C){var x=function(){q.selectExtensions.writeValue(y,A)};x();var w=D;if(w){setTimeout(x,0)}}if(D&&(y.length>0)){o(y,A,false)}}};q.bindingHandlers.options={update:function(z,M,x){if(q.utils.tagNameLower(z)!=="select"){throw new Error("options binding applies only to SELECT elements")}var K=z.length==0;var I=q.utils.arrayMap(q.utils.arrayFilter(z.childNodes,function(N){return N.tagName&&(q.utils.tagNameLower(N)==="option")&&N.selected}),function(N){return q.selectExtensions.readValue(N)||N.innerText||N.textContent});var H=z.scrollTop;var L=q.utils.unwrapObservable(M());var J=z.value;while(z.length>0){q.cleanNode(z.options[0]);z.remove(0)}if(L){var w=x();if(typeof L.length!="number"){L=[L]}if(w.optionsCaption){var D=h.createElement("option");q.utils.setHtml(D,w.optionsCaption);q.selectExtensions.writeValue(D,j);z.appendChild(D)}for(var A=0,B=L.length;A<B;A++){var D=h.createElement("option");var G=typeof w.optionsValue=="string"?L[A][w.optionsValue]:L[A];G=q.utils.unwrapObservable(G);q.selectExtensions.writeValue(D,G);var E=w.optionsText;var F;if(typeof E=="function"){F=E(L[A])}else{if(typeof E=="string"){F=L[A][E]}else{F=G}}if((F===null)||(F===j)){F=""}q.utils.setTextContent(D,F);z.appendChild(D)}var C=z.getElementsByTagName("option");var y=0;for(var A=0,B=C.length;A<B;A++){if(q.utils.arrayIndexOf(I,q.selectExtensions.readValue(C[A]))>=0){q.utils.setOptionNodeSelectionState(C[A],true);y++}}z.scrollTop=H;if(K&&("value" in w)){o(z,q.utils.unwrapObservable(w.value),true)}q.utils.ensureSelectElementIsRenderedCorrectly(z)}}};q.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";q.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(C){var A=[];var z=C.childNodes;for(var w=0,x=z.length;w<x;w++){var y=z[w],D=q.utils.tagNameLower(y);if(D=="option"&&y.selected){A.push(q.selectExtensions.readValue(y))}else{if(D=="optgroup"){var B=q.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(y);Array.prototype.splice.apply(A,[A.length,0].concat(B))}}}return A},init:function(x,y,w){q.utils.registerEventHandler(x,"change",function(){var z=y();var A=q.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);q.jsonExpressionRewriting.writeValueToProperty(z,w,"value",A)})},update:function(w,C){if(q.utils.tagNameLower(w)!="select"){throw new Error("values binding applies only to SELECT elements")}var z=q.utils.unwrapObservable(C());if(z&&typeof z.length=="number"){var B=w.childNodes;for(var x=0,y=B.length;x<y;x++){var A=B[x];if(q.utils.tagNameLower(A)==="option"){q.utils.setOptionNodeSelectionState(A,q.utils.arrayIndexOf(z,q.selectExtensions.readValue(A))>=0)}}}}};q.bindingHandlers.text={update:function(w,x){q.utils.setTextContent(w,x())}};q.bindingHandlers.html={init:function(){return{controlsDescendantBindings:true}},update:function(w,y){var x=q.utils.unwrapObservable(y());q.utils.setHtml(w,x)}};q.bindingHandlers.css={update:function(x,A){var z=q.utils.unwrapObservable(A()||{});for(var w in z){if(typeof w=="string"){var y=q.utils.unwrapObservable(z[w]);q.utils.toggleDomNodeCssClass(x,w,y)}}}};q.bindingHandlers.style={update:function(w,A){var z=q.utils.unwrapObservable(A()||{});for(var x in z){if(typeof x=="string"){var y=q.utils.unwrapObservable(z[x]);w.style[x]=y||""}}}};q.bindingHandlers.uniqueName={init:function(w,x){if(x()){w.name="ko_unique_"+(++q.bindingHandlers.uniqueName.currentIndex);if(q.utils.isIe6||q.utils.isIe7){w.mergeAttributes(h.createElement("<input name='"+w.name+"'/>"),false)}}}};q.bindingHandlers.uniqueName.currentIndex=0;q.bindingHandlers.checked={init:function(x,z,w){var y=function(){var C;if(x.type=="checkbox"){C=x.checked}else{if((x.type=="radio")&&(x.checked)){C=x.value}else{return}}var B=z();if((x.type=="checkbox")&&(q.utils.unwrapObservable(B) instanceof Array)){var A=q.utils.arrayIndexOf(q.utils.unwrapObservable(B),x.value);if(x.checked&&(A<0)){B.push(x.value)}else{if((!x.checked)&&(A>=0)){B.splice(A,1)}}}else{q.jsonExpressionRewriting.writeValueToProperty(B,w,"checked",C,true)}};q.utils.registerEventHandler(x,"click",y);if((x.type=="radio")&&!x.name){q.bindingHandlers.uniqueName["init"](x,function(){return true})}},update:function(w,y){var x=q.utils.unwrapObservable(y());if(w.type=="checkbox"){if(x instanceof Array){w.checked=q.utils.arrayIndexOf(x,w.value)>=0}else{w.checked=x}}else{if(w.type=="radio"){w.checked=(w.value==x)}}}};var m={"class":"className","for":"htmlFor"};q.bindingHandlers.attr={update:function(z,C,w){var B=q.utils.unwrapObservable(C())||{};for(var x in B){if(typeof x=="string"){var y=q.utils.unwrapObservable(B[x]);var A=(y===false)||(y===null)||(y===j);if(A){z.removeAttribute(x)}if(q.utils.ieVersion<=8&&x in m){x=m[x];if(A){z.removeAttribute(x)}else{z[x]=y}}else{if(!A){z.setAttribute(x,y.toString())}}}}}};q.bindingHandlers.hasfocus={init:function(x,y,w){var z=function(B){var A=y();q.jsonExpressionRewriting.writeValueToProperty(A,w,"hasfocus",B,true)};q.utils.registerEventHandler(x,"focus",function(){z(true)});q.utils.registerEventHandler(x,"focusin",function(){z(true)});q.utils.registerEventHandler(x,"blur",function(){z(false)});q.utils.registerEventHandler(x,"focusout",function(){z(false)})},update:function(w,y){var x=q.utils.unwrapObservable(y());x?w.focus():w.blur();q.utils.triggerEvent(w,x?"focusin":"focusout")}};q.bindingHandlers["with"]={makeTemplateValueAccessor:function(w){return function(){var x=w();return{"if":x,data:x,templateEngine:q.nativeTemplateEngine.instance}}},init:function(y,z,w,A,x){return q.bindingHandlers.template["init"](y,q.bindingHandlers["with"].makeTemplateValueAccessor(z))},update:function(y,z,w,A,x){return q.bindingHandlers.template["update"](y,q.bindingHandlers["with"].makeTemplateValueAccessor(z),w,A,x)}};q.jsonExpressionRewriting.bindingRewriteValidators["with"]=false;q.virtualElements.allowedBindings["with"]=true;q.bindingHandlers["if"]={makeTemplateValueAccessor:function(w){return function(){return{"if":w(),templateEngine:q.nativeTemplateEngine.instance}}},init:function(y,z,w,A,x){return q.bindingHandlers.template["init"](y,q.bindingHandlers["if"].makeTemplateValueAccessor(z))},update:function(y,z,w,A,x){return q.bindingHandlers.template["update"](y,q.bindingHandlers["if"].makeTemplateValueAccessor(z),w,A,x)}};q.jsonExpressionRewriting.bindingRewriteValidators["if"]=false;q.virtualElements.allowedBindings["if"]=true;q.bindingHandlers.ifnot={makeTemplateValueAccessor:function(w){return function(){return{ifnot:w(),templateEngine:q.nativeTemplateEngine.instance}}},init:function(y,z,w,A,x){return q.bindingHandlers.template["init"](y,q.bindingHandlers.ifnot.makeTemplateValueAccessor(z))},update:function(y,z,w,A,x){return q.bindingHandlers.template["update"](y,q.bindingHandlers.ifnot.makeTemplateValueAccessor(z),w,A,x)}};q.jsonExpressionRewriting.bindingRewriteValidators.ifnot=false;q.virtualElements.allowedBindings.ifnot=true;q.bindingHandlers.foreach={makeTemplateValueAccessor:function(w){return function(){var x=q.utils.unwrapObservable(w());if((!x)||typeof x.length=="number"){return{foreach:x,templateEngine:q.nativeTemplateEngine.instance}}return{foreach:x.data,includeDestroyed:x.includeDestroyed,afterAdd:x.afterAdd,beforeRemove:x.beforeRemove,afterRender:x.afterRender,templateEngine:q.nativeTemplateEngine.instance}}},init:function(y,z,w,A,x){return q.bindingHandlers.template["init"](y,q.bindingHandlers.foreach.makeTemplateValueAccessor(z))},update:function(y,z,w,A,x){return q.bindingHandlers.template["update"](y,q.bindingHandlers.foreach.makeTemplateValueAccessor(z),w,A,x)}};q.jsonExpressionRewriting.bindingRewriteValidators.foreach=false;q.virtualElements.allowedBindings.foreach=true;q.templateEngine=function(){};q.templateEngine.prototype.renderTemplateSource=function(y,w,x){throw new Error("Override renderTemplateSource")};q.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(w){throw new Error("Override createJavaScriptEvaluatorBlock")};q.templateEngine.prototype.makeTemplateSource=function(x,y){if(typeof x=="string"){y=y||h;var w=y.getElementById(x);if(!w){throw new Error("Cannot find template with ID "+x)}return new q.templateSources.domElement(w)}else{if((x.nodeType==1)||(x.nodeType==8)){return new q.templateSources.anonymousTemplate(x)}else{throw new Error("Unknown template type: "+x)}}};q.templateEngine.prototype.renderTemplate=function(y,w,x,z){var A=this["makeTemplateSource"](y,z);return this["renderTemplateSource"](A,w,x)};q.templateEngine.prototype.isTemplateRewritten=function(w,x){if(this["allowTemplateRewriting"]===false){return true}var y=x&&x!=h;if(!y&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[w]){return true}return this["makeTemplateSource"](w,x)["data"]("isRewritten")};q.templateEngine.prototype.rewriteTemplate=function(y,w,z){var B=this["makeTemplateSource"](y,z);var x=w(B.text());B.text(x);B.data("isRewritten",true);var A=z&&z!=h;if(!A&&typeof y=="string"){this.knownRewrittenTemplates=this.knownRewrittenTemplates||{};this.knownRewrittenTemplates[y]=true}};q.exportSymbol("templateEngine",q.templateEngine);q.templateRewriting=(function(){var x=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;var y=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function z(D){var A=q.jsonExpressionRewriting.bindingRewriteValidators;for(var B=0;B<D.length;B++){var C=D[B]["key"];if(A.hasOwnProperty(C)){var F=A[C];if(typeof F==="function"){var E=F(D[B]["value"]);if(E){throw new Error(E)}}else{if(!F){throw new Error("This template engine does not support the '"+C+"' binding within its templates")}}}}}function w(B,E,F){var C=q.jsonExpressionRewriting.parseObjectLiteral(B);z(C);var D=q.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(C);var A="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+D+" } })()         })";return F.createJavaScriptEvaluatorBlock(A)+E}return{ensureTemplateIsRewritten:function(A,C,B){if(!C.isTemplateRewritten(A,B)){C.rewriteTemplate(A,function(D){return q.templateRewriting.memoizeBindingAttributeSyntax(D,C)},B)}},memoizeBindingAttributeSyntax:function(A,B){return A.replace(x,function(){return w(arguments[6],arguments[1],B)}).replace(y,function(){return w(arguments[1],"<!-- ko -->",B)})},applyMemoizedBindingsToNextSibling:function(A){return q.memoization.memoize(function(C,B){if(C.nextSibling){q.applyBindingsToNode(C.nextSibling,A,B)}})}}})();q.exportSymbol("templateRewriting",q.templateRewriting);q.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",q.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){q.templateSources={};q.templateSources.domElement=function(x){this.domElement=x};q.templateSources.domElement.prototype.text=function(){var y=q.utils.tagNameLower(this.domElement),x=y==="script"?"text":y==="textarea"?"value":"innerHTML";if(arguments.length==0){return this.domElement[x]}else{var z=arguments[0];if(x==="innerHTML"){q.utils.setHtml(this.domElement,z)}else{this.domElement[x]=z}}};q.templateSources.domElement.prototype.data=function(x){if(arguments.length===1){return q.utils.domData.get(this.domElement,"templateSourceData_"+x)}else{q.utils.domData.set(this.domElement,"templateSourceData_"+x,arguments[1])}};var w="__ko_anon_template__";q.templateSources.anonymousTemplate=function(x){this.domElement=x};q.templateSources.anonymousTemplate.prototype=new q.templateSources.domElement();q.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var x=q.utils.domData.get(this.domElement,w)||{};if(x.textData===j&&x.containerData){x.textData=x.containerData.innerHTML}return x.textData}else{var y=arguments[0];q.utils.domData.set(this.domElement,w,{textData:y})}};q.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var x=q.utils.domData.get(this.domElement,w)||{};return x.containerData}else{var y=arguments[0];q.utils.domData.set(this.domElement,w,{containerData:y})}};q.exportSymbol("templateSources",q.templateSources);q.exportSymbol("templateSources.domElement",q.templateSources.domElement);q.exportSymbol("templateSources.anonymousTemplate",q.templateSources.anonymousTemplate)})();(function(){var w;q.setTemplateEngine=function(D){if((D!=j)&&!(D instanceof q.templateEngine)){throw new Error("templateEngine must inherit from ko.templateEngine")}w=D};function B(E,G,D){var I,H=E,F=q.virtualElements.nextSibling(G);while(H&&((I=H)!==F)){H=q.virtualElements.nextSibling(I);if(I.nodeType===1||I.nodeType===8){D(I)}}}function x(E,D){if(E.length){var F=E[0],G=E[E.length-1];B(F,G,function(H){q.applyBindings(D,H)});B(F,G,function(H){q.memoization.unmemoizeDomNodeAndDescendants(H,[D])})}}function A(D){return D.nodeType?D:D.length>0?D[0]:null}function z(J,I,K,D,G){G=G||{};var E=J&&A(J);var L=E&&E.ownerDocument;var M=(G.templateEngine||w);q.templateRewriting.ensureTemplateIsRewritten(K,M,L);var H=M.renderTemplate(K,D,G,L);if((typeof H.length!="number")||(H.length>0&&typeof H[0].nodeType!="number")){throw new Error("Template engine must return an array of DOM nodes")}var F=false;switch(I){case"replaceChildren":q.virtualElements.setDomNodeChildren(J,H);F=true;break;case"replaceNode":q.utils.replaceDomNodes(J,H);F=true;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+I)}if(F){x(H,D);if(G.afterRender){G.afterRender(H,D["$data"])}}return H}q.renderTemplate=function(J,E,G,I,H){G=G||{};if((G.templateEngine||w)==j){throw new Error("Set a template engine before calling renderTemplate")}H=H||"replaceChildren";if(I){var F=A(I);var K=function(){return(!F)||!q.utils.domNodeIsAttachedToDocument(F)};var D=(F&&H=="replaceNode")?F.parentNode:F;return q.dependentObservable(function(){var L=(E&&(E instanceof q.bindingContext))?E:new q.bindingContext(q.utils.unwrapObservable(E));var N=typeof(J)=="function"?J(L["$data"]):J;var M=z(I,H,N,L,G);if(H=="replaceNode"){I=M;F=A(I)}},null,{disposeWhen:K,disposeWhenNodeIsRemoved:D})}else{return q.memoization.memoize(function(L){q.renderTemplate(J,E,G,L,"replaceNode")})}};q.renderTemplateForEach=function(K,F,H,J,I){var E;var G=function(L,M){var N=typeof(K)=="function"?K(L):K;E=I.createChildContext(q.utils.unwrapObservable(L));E["$index"]=M;return z(null,"ignoreTargetNode",N,E,H)};var D=function(M,L,N){x(L,E);if(H.afterRender){H.afterRender(L,M)}};return q.dependentObservable(function(){var M=q.utils.unwrapObservable(F)||[];if(typeof M.length=="undefined"){M=[M]}var L=q.utils.arrayFilter(M,function(N){return H.includeDestroyed||N===j||N===null||!q.utils.unwrapObservable(N._destroy)});q.utils.setDomNodeChildrenFromArrayMapping(J,L,G,H,D)},null,{disposeWhenNodeIsRemoved:J})};var C="__ko__templateSubscriptionDomDataKey__";function y(D,E){var F=q.utils.domData.get(D,C);if(F&&(typeof(F.dispose)=="function")){F.dispose()}q.utils.domData.set(D,C,E)}q.bindingHandlers.template={init:function(F,H){var D=q.utils.unwrapObservable(H());if((typeof D!="string")&&(!D.name)&&(F.nodeType==1||F.nodeType==8)){var G=F.nodeType==1?F.childNodes:q.virtualElements.childNodes(F),E=q.utils.moveCleanedNodesToContainerElement(G);new q.templateSources.anonymousTemplate(F)["nodes"](E)}return{controlsDescendantBindings:true}},update:function(H,M,D,N,E){var F=q.utils.unwrapObservable(M());var K;var J=true;if(typeof F=="string"){K=F}else{K=F.name;if("if" in F){J=J&&q.utils.unwrapObservable(F["if"])}if("ifnot" in F){J=J&&!q.utils.unwrapObservable(F.ifnot)}}var L=null;if((typeof F==="object")&&("foreach" in F)){var G=(J&&F.foreach)||[];L=q.renderTemplateForEach(K||H,G,F,H,E)}else{if(J){var I=(typeof F=="object")&&("data" in F)?E.createChildContext(q.utils.unwrapObservable(F.data)):E;L=q.renderTemplate(K||H,I,F,H)}else{q.virtualElements.emptyNode(H)}}y(H,L)}};q.jsonExpressionRewriting.bindingRewriteValidators.template=function(D){var E=q.jsonExpressionRewriting.parseObjectLiteral(D);if((E.length==1)&&E[0]["unknown"]){return null}if(q.jsonExpressionRewriting.keyValueArrayContainsKey(E,"name")){return null}return"This template engine does not support anonymous templates nested within its templates"};q.virtualElements.allowedBindings.template=true})();q.exportSymbol("setTemplateEngine",q.setTemplateEngine);q.exportSymbol("renderTemplate",q.renderTemplate);(function(){function w(K,E,D){var y=[];for(var B=0;B<=E.length;B++){y[B]=[]}for(var B=0,C=Math.min(K.length,D);B<=C;B++){y[0][B]=B}for(var B=1,C=Math.min(E.length,D);B<=C;B++){y[B][0]=B}var L,M=K.length,F,G=E.length;var z,A;for(L=1;L<=M;L++){var I=Math.max(1,L-D);var H=Math.min(G,L+D);for(F=I;F<=H;F++){if(K[L-1]===E[F-1]){y[F][L]=y[F-1][L-1]}else{var J=y[F-1][L]===j?Number.MAX_VALUE:y[F-1][L]+1;var N=y[F][L-1]===j?Number.MAX_VALUE:y[F][L-1]+1;y[F][L]=Math.min(J,N)}}}return y}function x(B,H,F){var I=H.length;var G=F.length;var C=[];var D=B[G][I];if(D===j){return null}while((I>0)||(G>0)){var E=B[G][I];var y=(G>0)?B[G-1][I]:D+1;var z=(I>0)?B[G][I-1]:D+1;var A=(G>0)&&(I>0)?B[G-1][I-1]:D+1;if((y===j)||(y<E-1)){y=D+1}if((z===j)||(z<E-1)){z=D+1}if(A<E-1){A=D+1}if((y<=z)&&(y<A)){C.push({status:"added",value:F[G-1]});G--}else{if((z<y)&&(z<A)){C.push({status:"deleted",value:H[I-1]});I--}else{C.push({status:"retained",value:H[I-1]});G--;I--}}}return C.reverse()}q.utils.compareArrays=function(B,A,z){if(z===j){return q.utils.compareArrays(B,A,1)||q.utils.compareArrays(B,A,10)||q.utils.compareArrays(B,A,Number.MAX_VALUE)}else{B=B||[];A=A||[];var y=w(B,A,z);return x(y,B,A)}}})();q.exportSymbol("utils.compareArrays",q.utils.compareArrays);(function(){function w(z){if(z.length>2){var A=z[0],B=z[z.length-1],C=[A];while(A!==B){A=A.nextSibling;if(!A){return}C.push(A)}Array.prototype.splice.apply(z,[0,z.length].concat(C))}}function y(A,E,F,z,C){var D=[];var B=q.dependentObservable(function(){var G=E(F,C)||[];if(D.length>0){w(D);q.utils.replaceDomNodes(D,G);if(z){z(F,G)}}D.splice(0,D.length);q.utils.arrayPushAll(D,G)},null,{disposeWhenNodeIsRemoved:A,disposeWhen:function(){return(D.length==0)||!q.utils.domNodeIsAttachedToDocument(D[0])}});return{mappedNodes:D,dependentObservable:B}}var x="setDomNodeChildrenFromArrayMapping_lastMappingResult";q.utils.setDomNodeChildrenFromArrayMapping=function(C,z,Q,Y,A){z=z||[];Y=Y||{};var J=q.utils.domData.get(C,x)===j;var M=q.utils.domData.get(C,x)||[];var L=q.utils.arrayMap(M,function(aa){return aa.arrayEntry});var D=q.utils.compareArrays(L,z);var R=[];var N=0;var X=[];var S=0;var W=[];var H=null;for(var F=0,K=D.length;F<K;F++){switch(D[F].status){case"retained":var B=M[N];B.indexObservable(S);S=R.push(B);if(B.domNodes.length>0){H=B.domNodes[B.domNodes.length-1]}N++;break;case"deleted":M[N].dependentObservable.dispose();w(M[N].domNodes);q.utils.arrayForEach(M[N].domNodes,function(aa){X.push({element:aa,index:F,value:D[F].value});H=aa});N++;break;case"added":var Z=D[F].value;var G=q.observable(S);var O=y(C,Q,Z,A,G);var P=O.mappedNodes;S=R.push({arrayEntry:D[F].value,domNodes:P,dependentObservable:O.dependentObservable,indexObservable:G});for(var U=0,V=P.length;U<V;U++){var T=P[U];W.push({element:T,index:F,value:D[F].value});if(H==null){q.virtualElements.prepend(C,T)}else{q.virtualElements.insertAfter(C,T,H)}H=T}if(A){A(Z,P,G)}break}}q.utils.arrayForEach(X,function(aa){q.cleanNode(aa.element)});var I=false;if(!J){if(Y.afterAdd){for(var F=0;F<W.length;F++){Y.afterAdd(W[F].element,W[F].index,W[F].value)}}if(Y.beforeRemove){for(var F=0;F<X.length;F++){Y.beforeRemove(X[F].element,X[F].index,X[F].value)}I=true}}if(!I&&X.length){for(var F=0;F<X.length;F++){var E=X[F].element;if(E.parentNode){E.parentNode.removeChild(E)}}}q.utils.domData.set(C,x,R)}})();q.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",q.utils.setDomNodeChildrenFromArrayMapping);q.nativeTemplateEngine=function(){this["allowTemplateRewriting"]=false};q.nativeTemplateEngine.prototype=new q.templateEngine();q.nativeTemplateEngine.prototype.renderTemplateSource=function(A,w,x){var C=!(q.utils.ieVersion<9),z=C?A.nodes:null,y=z?A.nodes():null;if(y){return q.utils.makeArray(y.cloneNode(true).childNodes)}else{var B=A.text();return q.utils.parseHtmlFragment(B)}};q.nativeTemplateEngine.instance=new q.nativeTemplateEngine();q.setTemplateEngine(q.nativeTemplateEngine.instance);q.exportSymbol("nativeTemplateEngine",q.nativeTemplateEngine);(function(){q.jqueryTmplTemplateEngine=function(){var z=this.jQueryTmplVersion=(function(){if((typeof(jQuery)=="undefined")||!(jQuery.tmpl)){return 0}try{if(jQuery.tmpl["tag"]["tmpl"]["open"].toString().indexOf("__")>=0){return 2}}catch(A){}return 1})();function x(){if(z<2){throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}}function y(A,B,C){return jQuery.tmpl(A,B,C)}this["renderTemplateSource"]=function(G,A,D){D=D||{};x();var E=G.data("precompiled");if(!E){var H=G.text()||"";H="{{ko_with $item.koBindingContext}}"+H+"{{/ko_with}}";E=jQuery.template(null,H);G.data("precompiled",E)}var B=[A["$data"]];var C=jQuery.extend({koBindingContext:A},D.templateOptions);var F=y(E,B,C);F.appendTo(h.createElement("div"));jQuery.fragments={};return F};this["createJavaScriptEvaluatorBlock"]=function(A){return"{{ko_code ((function() { return "+A+" })()) }}"};this["addTemplate"]=function(B,A){h.write("<script type='text/html' id='"+B+"'>"+A+"</script>")};if(z>0){jQuery.tmpl["tag"]["ko_code"]={open:"__.push($1 || '');"};jQuery.tmpl["tag"]["ko_with"]={open:"with($1) {",close:"} "}}};q.jqueryTmplTemplateEngine.prototype=new q.templateEngine();var w=new q.jqueryTmplTemplateEngine();if(w.jQueryTmplVersion>0){q.setTemplateEngine(w)}q.exportSymbol("jqueryTmplTemplateEngine",q.jqueryTmplTemplateEngine)})()})})(window,document,navigator);d.observable=function(g){if(typeof(g)==="object"&&g.constructor==Array){return c.observableArray(g)}if(typeof(g)==="function"){return c.computed(g)}return c.observable(g)};d.applyBindings=function(g){if(!g.node){g.node=window.document.body}if(g.binding){c.applyBindingsToNode(g.node,g.binding,g.viewModel)}else{c.applyBindings(g.viewModel,g.node)}};d.inject=function(g){var j='<script id="'+g.id+'" type="text/html">';j+=g.content;j+="</script>";if(typeof g.target=="undefined"||g.target.toLowerCase()=="body"){var h=document.createElement("div");h.setAttribute("style","display:none;");document.body.appendChild(h);c.utils.setHtml(h,j)}else{var i=b.Sizzle(g.target)[0];c.utils.setHtml(i,j)}};d.clearNode=function(g){c.cleanNode(g)};c.bindingHandlers.cssClass={update:function(g,i){var h=c.utils.unwrapObservable(i());g.className=h}};d.bindingHandlers=c.bindingHandlers})(b.Templating=b.Templating||{})})(window.xRTML=window.xRTML||{});function guidGenerator(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())}(function(b,a){(function(m,q){var o=function(A){var z=this;var w=A.name||"";var x=A.namespace||"";var s=A.description||"";var y=A.properties||q;var u=A.methods||q;var t=A.events||q;var r=A.classes||q;var v=A.modules||q;this.Name=(function(){return w})();this.Namespace=(function(){return x})();this.Description=(function(){return s})();this.Properties=(function(){return y})();this.Methods=(function(){return u})();this.Events=(function(){return t})();this.Classes=(function(){return r})();this.Modules=(function(){return v})()};var h=function(B){var z=this;var w=B.name||"";var x=B.namespace||"";var r=B.base||q;var A=B.subclasses||q;var s=B.constructors||q;var t=B.description||"";var y=B.properties||q;var v=B.methods||q;var u=B.events||q;this.Name=(function(){return w})();this.Namespace=(function(){return x})();this.Base=(function(){return r})();this.Subclasses=(function(){return A})();this.Constructors=(function(){return s})();this.Description=(function(){return t})();this.Properties=(function(){return y})();this.Methods=(function(){return v})();this.Events=(function(){return u})();this.toString=function(){return(this.Namespace.length>0)?this.Namespace+"."+this.Name:this.Name};this.typeOf=B.typeOf||function(){return z.toString()}};var p=function(v){var t=v.name||"";var r=v.description||"";var s=v.mandatory||false;var u=v.type||q;this.Name=(function(){return t})();this.Description=(function(){return r})();this.Mandatory=(function(){return s})();this.Type=(function(){return u})()};var n=function(w){var u=w.name||"";var s=w.description||"";var r=w.arguments||"";var v=w["return"]||q;var t=w.exceptions||"";this.Name=(function(){return u})();this.Description=(function(){return s})();this.Arguments=(function(){return r})();this.Return=(function(){return v})();this.Exceptions=(function(){return t})()};var g=function(v){var t=v.name||"";var r=v.description||"";var s=v.mandatory||false;var u=v.type||q;this.Name=(function(){return t})();this.Description=(function(){return r})();this.Mandatory=(function(){return s})();this.Type=(function(){return u})()};var i=function(t){var s=t.name||"";var r=t.handler||q;this.Name=(function(){return s})();this.Handler=(function(){return r})()};var l=function(v){var t=v.name||"";var u=v.namespace||"";var s=v.description||"";var r=v.arguments||q;this.Name=(function(){return t})();this.Namespace=(function(){return u})();this.Description=(function(){return s})();this.Arguments=(function(){return r})()};var c={root:new o({name:"root",classes:{String:new h({name:"String",typeOf:function(){return"String"}}),Number:new h({name:"String",typeOf:function(){return"Number"}}),Boolean:new h({name:"String",typeOf:function(){return"Boolean"}}),Function:new h({name:"String",typeOf:function(){return"Function"}}),Array:new h({name:"String",typeOf:function(){return"Array"}}),Function:new h({name:"String",typeOf:function(){return"Function"}}),Date:new h({name:"String",typeOf:function(){return"Date"}}),Object:new h({name:"String",typeOf:function(){return"Object"}}),RegExp:new h({name:"String",typeOf:function(){return"RegExp"}}),Error:new h({name:"String",typeOf:function(){return"Error"}})},modules:{xRTML:new o({name:"xRTML",modules:{Tags:new o({name:"Tags",classes:new Object()})}}),Anonymous:new o({name:"Anonymous"})}})};var d={};var f=function(t,s,r){if(!d[t]){d[t]=new Array()}d[t].push({reference:s,propertyName:r})};m.fixUnresolvedTypes=function(){for(var t in d){var r=j(t);if(r){for(var s=0;s<d[t].length;s++){d[t][s].reference[d[t][s].propertyName]=r}delete d[t]}}for(var t in d){console.warn(t+" -> "+d[t].length)}};var k=function(v){if(v==q||v.length==0){return c.root}var t,r,u=v.lastIndexOf(".");if(u===-1){r=v}else{t=v.substring(0,u);r=v.substring(u+1)}var s=c.root;if(t!=q){s=k(t)}return s.Modules[r]};var j=function(v){var t,r,u=v.lastIndexOf(".");if(u===-1){r=v}else{t=v.substring(0,u);r=v.substring(u+1)}var s=c.root;if(t!=q){s=k(t)}return(s)?s.Classes[r]:q};m.registerModule=function(J){var D,C,H=J.name.lastIndexOf(".");if(H!=-1){J.namespace=J.name.substring(0,H);J.name=J.name.substring(H+1)}var I=new o({name:J.name,namespace:J.namespace,description:J.description});var C=k(J.namespace);if(!C.Modules){C.Modules={}}C.Modules[J.name]=I;for(var K=0;K<J.classes.length;K++){this.registerClass(J.classes[K])}var E={};for(var F in J.properties){var G=q;if(J.properties[F].type instanceof String||typeof(J.properties[F].type)=="string"){G=j(J.properties[F].type)}else{G=this.registerClass(J.properties[F].type)}E[F]=new p({name:F,description:J.properties[F].description,mandatory:J.properties[F].mandatory,type:G});if(!E[F].Type){f(J.properties[F],E[F],"Type")}}var B={};for(var A in J.methods){var t={};for(var r in J.methods[A].arguments){var s=q;if(J.methods[A].arguments[r].type instanceof String||typeof(J.methods[A].arguments[r].type)=="string"){s=j(J.methods[A].arguments[r].type)}else{s=this.registerClass(J.methods[A].arguments[r].type)}t[r]=new g({name:r,description:J.methods[A].arguments[r].description,mandatory:J.methods[A].arguments[r].mandatory,type:s});if(!t[r].Type){f(J.methods[A].arguments[r],t[r],"Type")}}var y={};for(var K=0;K<J.methods[A].exceptions.length;K++){if(J.methods[A].exceptions[K] instanceof String||typeof(J.methods[A].exceptions[K])=="string"){var x=j(J.methods[A].exceptions[K]);if(x!=q){y[x.toString()]=x}else{throw"Type "+J.methods[A].exceptions[K]+" is not defined"}}else{var x=this.registerClass(J.methods[A].exceptions[K]);y[x.toString()]=x}}var z={name:A,description:J.methods[A].description,arguments:t,exceptions:y};if(J.methods[A]["return"]){if(J.methods[A]["return"] instanceof String||typeof(J.methods[A]["return"])=="string"){z["return"]=j(J.methods[A]["return"])}else{z["return"]=this.registerClass(J.methods[A]["return"])}}B[A]=new n(z);if(J.methods[A]["return"]&&!B[A].Return){f(J.methods[A]["return"],B[A],"Return")}}var w={};for(var v in J.events){var u=q;if(J.events[v].type instanceof String||typeof(J.events[v].type)=="string"){u=j(J.events[v].handler)}else{u=this.registerHandler(J.events[v].handler)}w[v]=new i({name:v,description:J.events[v].description,handler:u})}I.Properties=E;I.Methods=B;I.Events=w;return I};m.registerClass=function(J){if(J.name==q){J.name=guidGenerator()}if(J.namespace==q){J.namespace="Anonymous"}var u=q;if(J["extends"]){u=j(J["extends"])}var L=function(O){var N={};for(var M in O){N[M]=O[M]}return N};var F=(u)?L(u.Properties):{};for(var G in J.properties){var H=q;if(J.properties[G].type instanceof String||typeof(J.properties[G].type)=="string"){H=j(J.properties[G].type)}else{H=this.registerClass(J.properties[G].type)}F[G]=new p({name:G,description:J.properties[G].description,mandatory:J.properties[G].mandatory,type:H});if(!F[G].Type){f(J.properties[G].type,F[G],"Type")}}var v=(u)?L(u.constructors):{};for(var C in J.constructors){var t={};for(var r in J.constructors[C].arguments){var s=q;if(J.constructors[C].arguments[r].type instanceof String||typeof(J.constructors[C].arguments[r].type)=="string"){s=j(J.constructors[C].arguments[r].type)}else{s=this.registerClass(J.constructors[C].arguments[r].type)}t[r]=new g({name:r,description:J.constructors[C].arguments[r].description,mandatory:J.constructors[C].arguments[r].mandatory,type:s});if(!t[r].Type){f(J.constructors[C].arguments[r].type,t[r],"Type")}}var A={};for(var K=0;K<J.constructors[C].exceptions.length;K++){if(J.constructors[C].exceptions[K] instanceof String||typeof(J.constructors[C].exceptions[K])=="string"){var z=j(J.constructors[C].exceptions[K]);A[z.toString()]=z;if(!A[z.toString()]){f(J.constructors[C].exceptions[K],A,z.toString())}}else{var z=this.registerClass(J.constructors[C].exceptions[K]);A[z.toString()]=z}}var B={name:C,description:J.constructors[C].description,arguments:t,exceptions:A};if(J.constructors[C]["return"]){if(J.constructors[C]["return"] instanceof String||typeof(J.constructors[C]["return"])=="string"){B["return"]=j(J.constructors[C]["return"])}else{B["return"]=this.registerClass(J.constructors[C]["return"])}}v[C]=new n(B);if(J.constructors[C]["return"]&&!v[C].Return){f(J.constructors[C]["return"],v[C],"Return")}}var D=(u)?L(u.Methods):{};for(var C in J.methods){var t={};for(var r in J.methods[C].arguments){var s=q;if(J.methods[C].arguments[r].type instanceof String||typeof(J.methods[C].arguments[r].type)=="string"){s=j(J.methods[C].arguments[r].type)}else{s=this.registerClass(J.methods[C].arguments[r].type)}t[r]=new g({name:r,description:J.methods[C].arguments[r].description,mandatory:J.methods[C].arguments[r].mandatory,type:s});if(!t[r].Type){f(J.methods[C].arguments[r].type,t[r],"Type")}}var A={};for(var K=0;K<J.methods[C].exceptions.length;K++){if(J.methods[C].exceptions[K] instanceof String||typeof(J.methods[C].exceptions[K])=="string"){var z=j(J.methods[C].exceptions[K]);A[z.toString()]=z;if(!A[z.toString()]){f(J.methods[C].exceptions[K],A,z.toString())}}else{var z=this.registerClass(J.methods[C].exceptions[K]);A[z.toString()]=z}}var B={name:C,description:J.methods[C].description,arguments:t,exceptions:A};if(J.methods[C]["return"]){if(J.methods[C]["return"] instanceof String||typeof(J.methods[C]["return"])=="string"){B["return"]=j(J.methods[C]["return"])}else{B["return"]=this.registerClass(J.methods[C]["return"])}}D[C]=new n(B);if(J.methods[C]["return"]&&!D[C].Return){f(J.methods[C]["return"],D[C],"Return")}}var y=(u)?L(u.Events):{};for(var x in J.events){var w=q;if(J.events[x].type instanceof String||typeof(J.events[x].type)=="string"){w=j(J.events[x].handler)}else{w=this.registerHandler(J.events[x].handler)}y[x]=new i({name:x,description:J.events[x].description,handler:w})}var I=new h({name:J.name,namespace:J.namespace,base:u,description:J.description,properties:F,constructors:v,methods:D,events:y});if(J["extends"]&&!I.Base){f(J["extends"],I,"Base")}var E=k(J.namespace);if(!E.Classes){E.Classes={}}E.Classes[J.name]=I;if(u){if(typeof u.Subclasses=="undefined"){u.Subclasses=new Object()}u.Subclasses[I.toString()]=I}return I};m.registerHandler=function(w){if(w.name==q){w.name=guidGenerator()}if(w.namespace==q){w.namespace="Anonymous"}var t={};for(var r in w.arguments){var s=q;if(w.arguments[r].type instanceof String||typeof(w.arguments[r].type)=="string"){s=j(w.arguments[r].type)}else{s=this.registerClass(w.arguments[r].type)}t[r]=new g({name:r,description:w.arguments[r].description,mandatory:w.arguments[r].mandatory,type:s});if(!t[r].Type){f(w.arguments[r].type,t[r],"Type")}}var u=new l({name:w.name,namespace:w.namespace,description:w.description,arguments:t});var v=k(w.namespace);if(!v.Classes){v.Classes={}}v.Classes[w.name]=u;return u};m.getClass=function(r){return j(r)};m.getModule=function(r){return(r)?k(r):c.root};m.validateProperties=function(u,s){var r=(u instanceof String||typeof(u)=="string")?j(u):u;for(var t in r.Properties){if(r.Properties[t].Mandatory==true&&s[t]===q){return false}if(r.Properties[t].Mandatory==false&&s[t]===q){continue}if(r.Properties[t].Type==m.get("Object")&&typeof(s[t])=="object"){continue}if(r.Properties[t].Type==m.get("String")){if(s[t] instanceof String||typeof(s[t])=="string"){continue}else{return false}}if(r.Properties[t].Type==m.get("Number")){if(!isNaN(parseFloat(s[t]))&&isFinite(s[t])){continue}else{return false}}if(r.Properties[t].Type==m.get("Boolean")){if(s[t] instanceof Boolean||typeof(s[t])=="boolean"){continue}else{return false}}if(r.Properties[t].Type==m.get("Array")){if(typeof(s[t])==="object"&&s[t].constructor==Array){continue}else{return false}}if(r.Properties[t].Type==m.get("Function")){if(s[t] instanceof Function){continue}else{return false}}if(m.validateProperties(r.Properties[t].Type,s[t])){continue}return false}return true}})(b.Metadata=b.Metadata||{})})(window.xRTML=window.xRTML||{});xRTML.TagManager.register({name:"Placeholder",struct:function(){this.init=function(b){this._super(b);this.template=b.attribute("template");if(!this.template){xRTML.Console.error("Placeholder tag requires one and only one xrtml:template tag.")}this.initialData=b.attribute("initialData");if(typeof this.initialData!="undefined"){try{xRTML.Templating.applyBindings({node:this.target[0],binding:{template:{name:this.template,data:this.initialData}}})}catch(a){xRTML.Error.raise({code:xRTML.Error.Codes.TEMPLATING,target:this,info:{message:a.message,className:"xRTML.Tags."+this.name,methodName:"init"}})}}};this.insert=function(a){try{xRTML.Templating.applyBindings({node:this.target[0],binding:{template:{name:this.template,data:a}}})}catch(b){xRTML.Error.raise({code:xRTML.Error.Codes.TEMPLATING,target:this,info:{message:b.message,className:"xRTML.Tags."+this.name,methodName:"insert"}})}}}});(function(a){(function(c,b){c[xRTML.version]?xRTML=c[xRTML.version]:c[xRTML.version]=xRTML;c.current=c.current||xRTML.version;xRTML=c[c.current]})(a.xRTMLVersions=a.xRTMLVersions||{})})(window);